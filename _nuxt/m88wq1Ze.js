import{g as W,j as F,k as C,x as h,y as M,ag as O,i as L,h as G,q as H,s as J,o as u,c as p,a as o,n,l as e,F as j,r as I,d as B,t as K,I as D,m as T,b as v,v as E,C as P}from"./C1y08q1e.js";import{_ as Q}from"./BMocA0Af.js";import{_ as X}from"./BbnEerJz.js";import{g as Y}from"./BXLmP1Xy.js";import"./DGffnr5X.js";import"./C-v3KzvZ.js";import"./Cpj98o6Y.js";import"./BneCoJRQ.js";import"./BtN8mq-f.js";import"./CzaBSMqT.js";const x={wrapper:"pl-4 pr-4 pb-10 shadow-xl bg-neutral-100 dark:bg-neutral-900/[0.6] rounded-2xl",inner:"",tags:{title:"flex flex-wrap justify-center",clear:"mt-3 text-lg px-3 border border-oma-red-500 bg-oma-red-600 hover:bg-oma-red-500 hover:border-oma-red-600 text-white dark:border-oma-red-500 dark:bg-oma-red-600 dark:hover:bg-oma-red-500 dark:hover:border-oma-red-600 dark:text-white rounded-3xl",list:"inline-block overflow-hidden hover:scale-105 duration-200 ease-in-out rounded-3xl text-lg cursor-pointer px-3 mx-2 mt-4 hover:shadow-xl hover:shadow-primary/[0.3] border border-primary dark:text-white dark:border-primary dark:shadow-primary/[0.3]"},header:"",title:"pt-6 text-3xl font-extrabold text-center dark:text-gray-200",subtitle:"pb-6 text-xl font-semibold text-gray-600 dark:text-gray-400 -mt-8 text-center",text:"pb-16 text-center font-light dark:text-gray-400",base:"justify-between flex flex-wrap",gap:"gap-0",default:{}},Z={class:"flex justify-center"},ee=["onClick"],te={class:"flex justify-center mt-5"},pe=W({__name:"sh-list-cards",props:{ui:{default:()=>({})},title:{default:""},subtitle:{default:""},text:{default:""},cols:{default:x.default.cols},class:{default:void 0},description:{default:""},cardID:{},allTags:{}},async setup(z){let f,y;const g=z,{ui:a,attrs:re}=F("sh-list-cards",C(g,"ui"),x,C(g,"class")),c=h(0),w=()=>{c.value=window.innerWidth};M(()=>{c.value=window.innerWidth,window.addEventListener("resize",w)}),O(()=>{window.removeEventListener("resize",w)});const S=L(()=>{const t=g.cols??x.default.cols;return c.value>=1300?["grid",Y.gridCols[t]].join(" "):c.value<640?["grid","grid-cols-1"].join(" "):c.value>640&&c.value<980?["grid","grid-cols-2"].join(" "):["grid","grid-cols-3"].join(" ")}),_=G();[f,y]=H(()=>J(`docs-${_.path}`,()=>E(_.path).findOne())),f=await f,y();const m=h([]),b=h([]),l=h([]),U=async()=>await E("news/articles").where({cardID:{$in:g.cardID}}).find(),$=()=>{if(m.value.length>0){const t=new Set;m.value.forEach(d=>{var i;(i=d.tags)==null||i.forEach(s=>{s!==null&&s.length>0&&t.add(s)})}),b.value=Array.from(t)}else b.value=[]},A=async()=>{m.value=await U(),$()},N=L(()=>l.value.length===0?m.value:m.value.filter(t=>{var i;let d=!1;return(i=t.tags)==null||i.forEach(s=>{s!==null&&s.length>0&&l.value.includes(s)&&(d=!0)}),d})),V=t=>{l.value.includes(t)?l.value=l.value.filter(d=>d!==t):l.value.push(t)},q=()=>{l.value=[]};return A(),(t,d)=>{const i=P,s=Q,R=X;return u(),p("div",{class:n(e(a).wrapper)},[o("div",{class:n(e(a).inner)},[o("h3",{class:n(e(a).tags.title)},"Tags",2),o("div",Z,[(u(!0),p(j,null,I(e(b),r=>(u(),p("span",{key:r,onClick:k=>V(r),class:n([e(a).tags.list,{"bg-primary-300 border-primary-400 text-neutral-600 dark:bg-primary-700 dark:border-primary-600 dark:hover:shadow-primary/[0.1]":e(l).includes(r)}])},[B(K(r)+" ",1),e(l).includes(r)?(u(),D(i,{key:0,name:"i-line-md:close-circle",dynamic:"",class:"hover:text-gray-500 duration-100"})):T("",!0)],10,ee))),128))]),o("div",te,[e(l).length?(u(),p("button",{key:0,onClick:q,class:n(e(a).tags.clear)},[B(" Clear All "),v(i,{name:"i-line-md:filter-remove-twotone",dynamic:"",class:"animate-pulse"})],2)):T("",!0)])],2),o("div",{class:n(e(a).header)},[o("div",{class:n(e(a).title)},[v(s,{value:t.title},null,8,["value"])],2),o("div",{class:n(e(a).subtitle)},[v(s,{value:t.subtitle},null,8,["value"])],2),o("div",{class:n(e(a).text)},[v(s,{value:t.text},null,8,["value"])],2)],2),o("div",{class:n([e(a).base,e(a).gap,e(S)])},[(u(!0),p(j,null,I(e(N),(r,k)=>(u(),D(R,{key:k,title:r.title,subtitle:r.subtitle,excerpt:r,urlImage:r.urlImage,urlUpperBase:r._path,article:r._path,leftLabel:r.leftLabel,rightLabel:r.rightLabel,centerLabel:r.centerLabel},null,8,["title","subtitle","excerpt","urlImage","urlUpperBase","article","leftLabel","rightLabel","centerLabel"]))),128))],2)],2)}}});export{pe as default};
