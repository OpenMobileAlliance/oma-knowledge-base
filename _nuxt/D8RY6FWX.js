import{_ as We}from"./qoyVbueW.js";import{u as Je,_ as Xe}from"./BvUDn2Wx.js";import{_ as de,A as Z,B as L,g as K,C as ce,j as ae,k as S,i as z,E as $e,G as se,o as b,c as C,a as P,n as B,F,H as V,t as X,I as H,J as U,m as q,X as Ye,d as ie,S as fe,R as pe,x as G,y as me,Y as Se,Z as Ze,$ as et,V as ze,a0 as je,D as ne,a1 as tt,a2 as at,a3 as ve,r as J,w as T,b as E,a4 as we,a5 as nt,a6 as ot,a7 as lt,a8 as rt,a9 as Ce,q as st,l as m}from"./DSN4Cum-.js";import{_ as De}from"./CX81MH-D.js";import"./_Tf5xAJ_.js";import"./C-v3KzvZ.js";import"./Cpj98o6Y.js";import"./BneCoJRQ.js";const it={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},ut={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},dt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},ct={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},W={wrapper:"",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"}}},re=Z(L.ui.strategy,L.ui.divider,dt),ft=K({components:{UIcon:ce,UAvatar:De},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>re.default.size,validator(e){return Object.keys(re.border.size.horizontal).includes(e)||Object.keys(re.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:r}=ae("divider",S(e,"ui"),re),n=z(()=>$e(se(a.value.wrapper.base,a.value.wrapper[e.orientation]),e.class)),t=z(()=>se(a.value.container.base,a.value.container[e.orientation])),g=z(()=>se(a.value.border.base,a.value.border[e.orientation],a.value.border.size[e.orientation][e.size],a.value.border.type[e.type]));return{ui:a,attrs:r,wrapperClass:n,containerClass:t,borderClass:g}}});function pt(e,a,r,n,t,g){const d=ce,u=De;return b(),C("div",U({class:e.wrapperClass},e.attrs),[P("div",{class:B(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(b(),C(F,{key:0},[P("div",{class:B(e.containerClass)},[V(e.$slots,"default",{},()=>[e.label?(b(),C("span",{key:0,class:B(e.ui.label)},X(e.label),3)):e.icon?(b(),H(d,{key:1,name:e.icon,class:B(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(b(),H(u,U({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):q("",!0)])],2),P("div",{class:B(e.borderClass)},null,2)],64)):q("",!0)],16)}const vt=de(ft,[["render",pt]]),_=Z(L.ui.strategy,L.ui.badge,it),gt=K({inheritAttrs:!1,props:{size:{type:String,default:()=>_.default.size,validator(e){return Object.keys(_.size).includes(e)}},color:{type:String,default:()=>_.default.color,validator(e){return[...L.ui.colors,...Object.keys(_.color)].includes(e)}},variant:{type:String,default:()=>_.default.variant,validator(e){return[...Object.keys(_.variant),...Object.values(_.color).flatMap(a=>Object.keys(a))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:r}=ae("badge",S(e,"ui"),_),{size:n,rounded:t}=Ye({ui:a,props:e}),g=z(()=>{var u,v;const d=((v=(u=a.value.color)==null?void 0:u[e.color])==null?void 0:v[e.variant])||a.value.variant[e.variant];return $e(se(a.value.base,a.value.font,t.value,a.value.size[n.value],d==null?void 0:d.replaceAll("{color}",e.color)),e.class)});return{attrs:r,badgeClass:g}}});function bt(e,a,r,n,t,g){return b(),C("span",U({class:e.badgeClass},e.attrs),[V(e.$slots,"default",{},()=>[ie(X(e.label),1)])],16)}const yt=de(gt,[["render",bt]]);let Pe=Symbol("headlessui.useid"),mt=0;function Be(){return pe(Pe,()=>`${++mt}`)()}function ht(e){fe(Pe,e)}function x(e){var a;if(e==null||e.value==null)return null;let r=(a=e.value.$el)!=null?a:e.value;return r instanceof Node?r:null}function ue(e,a,...r){if(e in a){let t=a[e];return typeof t=="function"?t(...r):t}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(a).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ue),n}function Oe(e,a){if(e)return e;let r=a??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function kt(e,a){let r=G(Oe(e.value.type,e.value.as));return me(()=>{r.value=Oe(e.value.type,e.value.as)}),Se(()=>{var n;r.value||x(a)&&x(a)instanceof HTMLButtonElement&&!((n=x(a))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}var ye=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ye||{}),wt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wt||{});function he({visible:e=!0,features:a=0,ourProps:r,theirProps:n,...t}){var g;let d=Ae(n,r),u=Object.assign(t,{props:d});if(e||a&2&&d.static)return ge(u);if(a&1){let v=(g=d.unmount)==null||g?0:1;return ue(v,{0(){return null},1(){return ge({...t,props:{...d,hidden:!0,style:{display:"none"}}})}})}return ge(u)}function ge({props:e,attrs:a,slots:r,slot:n,name:t}){var g,d;let{as:u,...v}=Ct(e,["unmount","static"]),k=(g=r.default)==null?void 0:g.call(r,n),O={};if(n){let y=!1,l=[];for(let[f,s]of Object.entries(n))typeof s=="boolean"&&(y=!0),s===!0&&l.push(f);y&&(O["data-headlessui-state"]=l.join(" "))}if(u==="template"){if(k=Ie(k??[]),Object.keys(v).length>0||Object.keys(a).length>0){let[y,...l]=k??[];if(!Bt(y)||l.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(v).concat(Object.keys(a)).map(c=>c.trim()).filter((c,j,N)=>N.indexOf(c)===j).sort((c,j)=>c.localeCompare(j)).map(c=>`  - ${c}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(c=>`  - ${c}`).join(`
`)].join(`
`));let f=Ae((d=y.props)!=null?d:{},v,O),s=Ze(y,f,!0);for(let c in f)c.startsWith("on")&&(s.props||(s.props={}),s.props[c]=f[c]);return s}return Array.isArray(k)&&k.length===1?k[0]:k}return et(u,Object.assign({},v,O),{default:()=>k})}function Ie(e){return e.flatMap(a=>a.type===F?Ie(a.children):[a])}function Ae(...e){if(e.length===0)return{};if(e.length===1)return e[0];let a={},r={};for(let n of e)for(let t in n)t.startsWith("on")&&typeof n[t]=="function"?(r[t]!=null||(r[t]=[]),r[t].push(n[t])):a[t]=n[t];if(a.disabled||a["aria-disabled"])return Object.assign(a,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(a,{[n](t,...g){let d=r[n];for(let u of d){if(t instanceof Event&&t.defaultPrevented)return;u(t,...g)}}});return a}function Ct(e,a=[]){let r=Object.assign({},e);for(let n of a)n in r&&delete r[n];return r}function Bt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Ee=Symbol("Context");var te=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(te||{});function Ot(){return pe(Ee,null)}function $t(e){fe(Ee,e)}var Y=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Y||{}),St=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(St||{});let Ue=Symbol("DisclosureContext");function ke(e){let a=pe(Ue,null);if(a===null){let r=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ke),r}return a}let Le=Symbol("DisclosurePanelContext");function zt(){return pe(Le,null)}let jt=K({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:a,attrs:r}){let n=G(e.defaultOpen?0:1),t=G(null),g=G(null),d={buttonId:G(`headlessui-disclosure-button-${Be()}`),panelId:G(`headlessui-disclosure-panel-${Be()}`),disclosureState:n,panel:t,button:g,toggleDisclosure(){n.value=ue(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(u){d.closeDisclosure();let v=u?u instanceof HTMLElement?u:u.value instanceof HTMLElement?x(u):x(d.button):x(d.button);v==null||v.focus()}};return fe(Ue,d),$t(z(()=>ue(n.value,{0:te.Open,1:te.Closed}))),()=>{let{defaultOpen:u,...v}=e,k={open:n.value===0,close:d.close};return he({theirProps:v,ourProps:{},slot:k,slots:a,attrs:r,name:"Disclosure"})}}}),Dt=K({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:a,slots:r,expose:n}){let t=ke("DisclosureButton"),g=zt(),d=z(()=>g===null?!1:g.value===t.panelId.value);me(()=>{d.value||e.id!==null&&(t.buttonId.value=e.id)}),ze(()=>{d.value||(t.buttonId.value=null)});let u=G(null);n({el:u,$el:u}),d.value||Se(()=>{t.button.value=u.value});let v=kt(z(()=>({as:e.as,type:a.type})),u);function k(){var l;e.disabled||(d.value?(t.toggleDisclosure(),(l=x(t.button))==null||l.focus()):t.toggleDisclosure())}function O(l){var f;if(!e.disabled)if(d.value)switch(l.key){case Y.Space:case Y.Enter:l.preventDefault(),l.stopPropagation(),t.toggleDisclosure(),(f=x(t.button))==null||f.focus();break}else switch(l.key){case Y.Space:case Y.Enter:l.preventDefault(),l.stopPropagation(),t.toggleDisclosure();break}}function y(l){switch(l.key){case Y.Space:l.preventDefault();break}}return()=>{var l;let f={open:t.disclosureState.value===0},{id:s,...c}=e,j=d.value?{ref:u,type:v.value,onClick:k,onKeydown:O}:{id:(l=t.buttonId.value)!=null?l:s,ref:u,type:v.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||x(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:k,onKeydown:O,onKeyup:y};return he({ourProps:j,theirProps:c,slot:f,attrs:a,slots:r,name:"DisclosureButton"})}}}),Pt=K({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:r,expose:n}){let t=ke("DisclosurePanel");me(()=>{e.id!==null&&(t.panelId.value=e.id)}),ze(()=>{t.panelId.value=null}),n({el:t.panel,$el:t.panel}),fe(Le,t.panelId);let g=Ot(),d=z(()=>g!==null?(g.value&te.Open)===te.Open:t.disclosureState.value===0);return()=>{var u;let v={open:t.disclosureState.value===0,close:t.close},{id:k,...O}=e,y={id:(u=t.panelId.value)!=null?u:k,ref:t.panel};return he({ourProps:y,theirProps:O,slot:v,attrs:a,slots:r,features:ye.RenderStrategy|ye.Static,visible:d.value,name:"DisclosurePanel"})}}});const be=Z(L.ui.strategy,L.ui.accordion,ut),It=Z(L.ui.strategy,L.ui.button,je),At=K({components:{HDisclosure:jt,HDisclosureButton:Dt,HDisclosurePanel:Pt,UIcon:ce,UButton:ne},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>be.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>be.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:a}){const{ui:r,attrs:n}=ae("accordion",S(e,"ui"),be,S(e,"class")),t=z(()=>It),g=G([]),d=z(()=>g.value.map(({open:l})=>l));tt(d,(l,f)=>{for(const s in l){const c=f[s],j=l[s];!c&&j&&a("open",s)}},{immediate:!0});function u(l,f){!e.items[l].closeOthers&&e.multiple||g.value.forEach(s=>{s.open&&s.close(f.target)})}function v(l,f){const s=l;s.style.height="0",s.offsetHeight,s.style.height=s.scrollHeight+"px",s.addEventListener("transitionend",f,{once:!0})}function k(l){const f=l;f.style.height=f.scrollHeight+"px",f.offsetHeight}function O(l){const f=l;f.style.height="auto"}function y(l,f){const s=l;s.style.height="0",s.addEventListener("transitionend",f,{once:!0})}return ht(()=>Je("$SZ7s8siktv")),{ui:r,uiButton:t,attrs:n,buttonRefs:g,closeOthers:u,omit:at,onEnter:v,onBeforeLeave:k,onAfterEnter:O,onLeave:y}}}),Et={key:1};function Ut(e,a,r,n,t,g){const d=ce,u=ne,v=ve("HDisclosureButton"),k=ve("HDisclosurePanel"),O=ve("HDisclosure");return b(),C("div",{class:B(e.ui.wrapper)},[(b(!0),C(F,null,J(e.items,(y,l)=>(b(),H(O,{key:l,as:"div",class:B(e.ui.container),"default-open":e.defaultOpen||y.defaultOpen},{default:T(({open:f,close:s})=>[E(v,{ref_for:!0,ref:()=>e.buttonRefs[l]={open:f,close:s},as:"template",disabled:y.disabled,onClick:c=>e.closeOthers(l,c),onKeydown:[we(c=>e.closeOthers(l,c),["enter"]),we(c=>e.closeOthers(l,c),["space"])]},{default:T(()=>[V(e.$slots,"default",{item:y,index:l,open:f,close:s},()=>[E(u,U({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(y,["slot","disabled","content","defaultOpen"])}),{trailing:T(()=>[E(d,{name:f&&e.closeIcon?e.closeIcon:e.openIcon,class:B([f&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[y.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),E(nt,U({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:T(()=>[e.unmount?(b(),H(k,{key:0,class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:T(()=>[V(e.$slots,y.slot||"item",{item:y,index:l,open:f,close:s},()=>[ie(X(y.content),1)])]),_:2},1032,["class"])):ot((b(),C("div",Et,[E(k,{class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:T(()=>[V(e.$slots,y.slot||"item",{item:y,index:l,open:f,close:s},()=>[ie(X(y.content),1)])]),_:2},1032,["class"])],512)),[[lt,f]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Lt=de(At,[["render",Ut]]),R=Z(L.ui.strategy,L.ui.pagination,ct),Nt=Z(L.ui.strategy,L.ui.button,je),Ht=K({components:{UButton:ne},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>R.default.size,validator(e){return Object.keys(Nt.size).includes(e)}},activeButton:{type:Object,default:()=>R.default.activeButton},inactiveButton:{type:Object,default:()=>R.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>R.default.firstButton},lastButton:{type:Object,default:()=>R.default.lastButton},prevButton:{type:Object,default:()=>R.default.prevButton},nextButton:{type:Object,default:()=>R.default.nextButton},divider:{type:String,default:"…"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const{ui:r,attrs:n}=ae("pagination",S(e,"ui"),R,S(e,"class")),t=z({get(){return e.modelValue},set(s){a("update:modelValue",s)}}),g=z(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(s,c)=>c+1)),d=z(()=>{const s=g.value.length,c=t.value,j=Math.max(e.max,5),N=Math.floor((Math.min(j,s)-5)/2),I=c-N,ee=c+N,oe=I-1>1,le=ee+1<s,w=[];if(s<=j){for(let D=1;D<=s;D++)w.push(D);return w}if(w.push(1),oe&&w.push(e.divider),!le){const D=c+N+2-s;for(let M=c-N-D;M<=c-N-1;M++)w.push(M)}for(let D=Math.max(2,I);D<=Math.min(s,ee);D++)w.push(D);if(!oe){const D=1-(c-N-2);for(let M=c+N+1;M<=c+N+D;M++)w.push(M)}return le&&w.push(e.divider),ee<s&&w.push(s),w.length>=3&&w[1]===e.divider&&w[2]===3&&(w[1]=2),w.length>=3&&w[w.length-2]===e.divider&&w[w.length-1]===w.length&&(w[w.length-2]=w.length-1),w}),u=z(()=>t.value>1),v=z(()=>t.value<g.value.length);function k(){u.value&&(t.value=1)}function O(){v.value&&(t.value=g.value.length)}function y(s){typeof s!="string"&&(t.value=s)}function l(){u.value&&t.value--}function f(){v.value&&t.value++}return{ui:r,attrs:n,currentPage:t,pages:g,displayedPages:d,canGoLastOrNext:v,canGoFirstOrPrev:u,onClickPrev:l,onClickNext:f,onClickPage:y,onClickFirst:k,onClickLast:O}}});function Ft(e,a,r,n,t,g){const d=ne;return b(),C("div",U({class:e.ui.wrapper},e.attrs),[V(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(b(),H(d,U({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):q("",!0)]),V(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(b(),H(d,U({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):q("",!0)]),(b(!0),C(F,null,J(e.displayedPages,(u,v)=>(b(),H(d,U({key:`${u}-${v}`,size:e.size,disabled:e.disabled,label:`${u}`,ref_for:!0},u===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof u=="string","z-[1]":u===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(u)}),null,16,["size","disabled","label","class","onClick"]))),128)),V(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(b(),H(d,U({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):q("",!0)]),V(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(b(),H(d,U({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):q("",!0)])],16)}const Mt=de(Ht,[["render",Ft]]),Tt={key:0,class:"rounded-lg border"},Vt={class:"max-h-36 overflow-auto"},qt=["data-filter-key","data-filter-value"],xt=["calss"],_t=["ui"],Rt=["calss"],Gt=["index","calss"],ta=K({__name:"sh-dynamic-table",props:rt({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:W.default.perPage},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let a,r;W.perPage;const n=e,{ui:t,attrs:g}=ae("sh-dynamic-table",S(n,"ui"),W,S(n,"class")),d=async()=>{const o=await $fetch(n.dataUrl);return n.dataField?o[n.dataField]:o},u=async()=>{k.value=await d(),v()},v=async()=>{O.value=[];let o=ee(k.value);o=oe(o),o=le(o),j.value=Fe(o),s.value=(o==null?void 0:o.length)>0?o.length:0;let i=y.value*f.value-f.value,p=i+f.value>s.value?s.value:i+f.value;for(let h=i;h<p;h++)O.value.push(o[h])},k=S([]),O=S([]),y=Ce(e,"page"),l=Ce(e,"q"),f=S(n.perPage),s=S(0),c=S([]),j=S([]),N=S([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters"}]),I=S({}),ee=o=>{const i=n.columns.filter(p=>p.query).map(p=>p.name);return l.value.length>0?o.filter(p=>{var A;let h=!1;for(name of i)if(name==="Undefined"){if(l.value===""){h=!0;break}}else if((A=p[name])!=null&&A.toString().toLowerCase().includes(l.value.toLowerCase())){h=!0;break}return h}):o},oe=o=>c.value.length>0?c.value.reduce((i,p)=>(i.length>0?i=i.filter(h=>h[p.name]&&p.value?h[p.name].toString()===p.value.toString():!1):i=o.filter(h=>h[p.name]&&p.value?h[p.name].toString()===p.value.toString():!1),i),[]):o,le=o=>Object.keys(I).length>0&&o.sort?o.sort((i,p)=>qe(i[I.value.name],p[I.value.name],I.value.direction)):o,w=(o,i)=>c.value.filter(h=>h.name===o&&h.value===i).length>0,D=o=>o!=null&&o.title?o.title:"",M=(o,i)=>o[i==null?void 0:i.name]?o[i.name]:" ",Ne=o=>{var i;return((i=I.value)==null?void 0:i.name)===o.name?I.value.direction==="asc"?W.default.sortAscIcon:W.default.sortDescIcon:W.default.sortButton.icon},He=()=>{const o=n.columns.reduce((i,p)=>p.filter?i+1:i,0);return o<2?"grid grid-cols-1 gap-4":o<3?"grid grid-cols-2 gap-2":o<4?"grid grid-cols-3 gap-1":"grid grid-cols-4 gap-1"},Fe=o=>{const i={};return n.columns.forEach(p=>{p.filter&&(i[p.name]={})}),o.forEach&&o.forEach(p=>{n.columns.forEach(h=>{if(Object.keys(p).includes(h.name)&&Object.keys(i).includes(h.name)){const A=p[h.name]?p[h.name]:"Undefined";i[h.name][A]=i[h.name][A]?i[h.name][A]+1:1}})}),i},Me=o=>{v()},Te=o=>{y.value=1,l.value=l.value.trim(),v()},Ve=o=>{const i=o.currentTarget.getAttribute("data-filter-key"),p=o.currentTarget.getAttribute("data-filter-value"),h=c.value.filter(A=>A.name===i&&A.value===p);h.length>0?c.value=c.value.filter(A=>A!=h[0]):c.value.push({name:i,value:p}),y.value=1,l.value="",v()},qe=(o,i,p)=>(o==null&&(o=""),i==null&&(i=""),o===i?0:p==="asc"?o<i?-1:1:o>i?-1:1),xe=o=>{I.value.name===o.name?I.value.direction=I.value.direction==="asc"?"desc":"asc":I.value={name:o.name,direction:"asc"},v()};return[a,r]=st(()=>u()),await a,r(),(o,i)=>{const p=We,h=Xe,A=vt,_e=yt,Re=Lt,Ge=ne,Ke=Mt;return b(),C("div",U({class:[m(t).wrapper,n.class]},m(g)),[n.header?(b(),C("div",{key:0,class:B(m(t).header)},[E(p,{value:n.header},null,8,["value"])],2)):q("",!0),P("div",{class:B(m(t).base)},[P("div",{class:B(m(t).search)},[E(h,{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=$=>l.value=$),type:"text",onKeyup:Te,placeholder:"type a token to search for"},null,8,["modelValue"])],2),P("div",{class:B(m(t).filter)},[E(Re,{items:m(N),color:"gray",class:"not-prose"},{"quick-filters":T(()=>[P("div",{class:B(He())},[(b(!0),C(F,null,J(n.columns,$=>(b(),C(F,null,[$.filter?(b(),C("div",Tt,[E(A,{label:$.title,class:"py-4"},null,8,["label"]),P("ul",Vt,[(b(!0),C(F,null,J(Object.keys(m(j)[$.name]),Q=>(b(),C("li",{"data-filter-key":$.name,"data-filter-value":Q,onClick:Ve,class:B(["list-none flex justify-between p-2 hover:bg-gray-50 hover:dark:bg-gray-800/50 hover:cursor-pointer",w($.name,Q)?m(t).tr.selected:""])},[P("span",null,X(Q),1),E(_e,null,{default:T(()=>[ie(X(m(j)[$.name][Q]),1)]),_:2},1024)],10,qt))),256))])])):q("",!0)],64))),256))],2)]),_:1},8,["items"])],2),P("table",{class:B(m(t).table)},[P("thead",{calss:m(t).thead},[P("tr",{ui:m(t)},[(b(!0),C(F,null,J(n.columns,$=>(b(),C("th",{class:B([m(t).th.base,m(t).th.padding,m(t).th.color,m(t).th.font,m(t).th.size])},[$.sortable?(b(),H(Ge,U({key:0,ref_for:!0},{...m(W).default.sortButton},{icon:Ne($),onClick:Q=>xe($)}),{default:T(()=>[E(p,{value:D($),class:"not-prose"},null,8,["value"])]),_:2},1040,["icon","onClick"])):(b(),H(p,{key:1,value:D($),class:"not-prose"},null,8,["value"]))],2))),256))],8,_t)],8,xt),P("tbody",{calss:m(t).tbody},[(b(!0),C(F,null,J(m(O),($,Q)=>(b(),C("tr",{index:Q,calss:m(t).tr.base},[(b(!0),C(F,null,J(n.columns,Qe=>(b(),C("td",{class:B([[m(t).td.base,m(t).td.padding,m(t).td.color,m(t).td.font,m(t).td.size],"not-prose"])},X(M($,Qe)),3))),256))],8,Gt))),256))],8,Rt)],2),P("div",{class:B(m(t).pagination)},[E(Ke,{modelValue:y.value,"onUpdate:modelValue":i[1]||(i[1]=$=>y.value=$),"page-count":m(f),total:m(s),max:10,onClick:Me,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])],2)],2),n.footer?(b(),C("div",{key:1,class:B(m(t).footer)},[E(p,{value:n.footer},null,8,["value"])],2)):q("",!0)],16)}}});export{ta as default};
