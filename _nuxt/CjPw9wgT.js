import{_ as Xe}from"./CmcUFhlK.js";import{u as Ye,_ as Ze}from"./9QwE4wnD.js";import{B as ee,C as L,_ as de,g as K,A as ce,j as ne,k as D,i as z,E as Se,G as se,o as g,c as C,a as I,n as O,F,H as x,t as Z,I as N,J as U,m as M,X as et,d as ie,S as fe,R as pe,x as G,y as he,Y as De,Z as tt,$ as at,V as je,a0 as ze,D as re,a1 as nt,a2 as rt,a3 as ve,r as J,w as V,b as H,a4 as Ce,a5 as ot,a6 as lt,a7 as st,a8 as it,a9 as ut,aa as Oe,q as dt,l as b}from"./DZpnznSP.js";import{_ as Pe}from"./-Ki2jF89.js";import"./D7l652lz.js";import"./C-v3KzvZ.js";import"./BneCoJRQ.js";const ct={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},ft={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},pt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},vt={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},W={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-gray-300 dark:bg-gray-500",active:"hover:bg-gray-200 dark:hover:bg-gray-300 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"}}},le=ee(L.ui.strategy,L.ui.divider,pt),gt=K({components:{UIcon:ce,UAvatar:Pe},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.border.size.horizontal).includes(e)||Object.keys(le.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:i}=ne("divider",D(e,"ui"),le),u=z(()=>Se(se(a.value.wrapper.base,a.value.wrapper[e.orientation]),e.class)),t=z(()=>se(a.value.container.base,a.value.container[e.orientation])),l=z(()=>se(a.value.border.base,a.value.border[e.orientation],a.value.border.size[e.orientation][e.size],a.value.border.type[e.type]));return{ui:a,attrs:i,wrapperClass:u,containerClass:t,borderClass:l}}});function bt(e,a,i,u,t,l){const r=ce,c=Pe;return g(),C("div",U({class:e.wrapperClass},e.attrs),[I("div",{class:O(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(g(),C(F,{key:0},[I("div",{class:O(e.containerClass)},[x(e.$slots,"default",{},()=>[e.label?(g(),C("span",{key:0,class:O(e.ui.label)},Z(e.label),3)):e.icon?(g(),N(r,{key:1,name:e.icon,class:O(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(g(),N(c,U({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):M("",!0)])],2),I("div",{class:O(e.borderClass)},null,2)],64)):M("",!0)],16)}const yt=de(gt,[["render",bt]]),_=ee(L.ui.strategy,L.ui.badge,ct),ht=K({inheritAttrs:!1,props:{size:{type:String,default:()=>_.default.size,validator(e){return Object.keys(_.size).includes(e)}},color:{type:String,default:()=>_.default.color,validator(e){return[...L.ui.colors,...Object.keys(_.color)].includes(e)}},variant:{type:String,default:()=>_.default.variant,validator(e){return[...Object.keys(_.variant),...Object.values(_.color).flatMap(a=>Object.keys(a))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:i}=ne("badge",D(e,"ui"),_),{size:u,rounded:t}=et({ui:a,props:e}),l=z(()=>{var c,y;const r=((y=(c=a.value.color)==null?void 0:c[e.color])==null?void 0:y[e.variant])||a.value.variant[e.variant];return Se(se(a.value.base,a.value.font,t.value,a.value.size[u.value],r==null?void 0:r.replaceAll("{color}",e.color)),e.class)});return{attrs:i,badgeClass:l}}});function mt(e,a,i,u,t,l){return g(),C("span",U({class:e.badgeClass},e.attrs),[x(e.$slots,"default",{},()=>[ie(Z(e.label),1)])],16)}const kt=de(ht,[["render",mt]]);let Ie=Symbol("headlessui.useid"),wt=0;function Be(){return pe(Ie,()=>`${++wt}`)()}function Ct(e){fe(Ie,e)}function R(e){var a;if(e==null||e.value==null)return null;let i=(a=e.value.$el)!=null?a:e.value;return i instanceof Node?i:null}function ue(e,a,...i){if(e in a){let t=a[e];return typeof t=="function"?t(...i):t}let u=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(a).map(t=>`"${t}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,ue),u}function $e(e,a){if(e)return e;let i=a??"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function Ot(e,a){let i=G($e(e.value.type,e.value.as));return he(()=>{i.value=$e(e.value.type,e.value.as)}),De(()=>{var u;i.value||R(a)&&R(a)instanceof HTMLButtonElement&&!((u=R(a))!=null&&u.hasAttribute("type"))&&(i.value="button")}),i}var ye=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ye||{}),Bt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Bt||{});function me({visible:e=!0,features:a=0,ourProps:i,theirProps:u,...t}){var l;let r=Ee(u,i),c=Object.assign(t,{props:r});if(e||a&2&&r.static)return ge(c);if(a&1){let y=(l=r.unmount)==null||l?0:1;return ue(y,{0(){return null},1(){return ge({...t,props:{...r,hidden:!0,style:{display:"none"}}})}})}return ge(c)}function ge({props:e,attrs:a,slots:i,slot:u,name:t}){var l,r;let{as:c,...y}=$t(e,["unmount","static"]),k=(l=i.default)==null?void 0:l.call(i,u),B={};if(u){let m=!1,d=[];for(let[p,s]of Object.entries(u))typeof s=="boolean"&&(m=!0),s===!0&&d.push(p);m&&(B["data-headlessui-state"]=d.join(" "))}if(c==="template"){if(k=Ae(k??[]),Object.keys(y).length>0||Object.keys(a).length>0){let[m,...d]=k??[];if(!St(m)||d.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${t} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(y).concat(Object.keys(a)).map(v=>v.trim()).filter((v,j,$)=>$.indexOf(v)===j).sort((v,j)=>v.localeCompare(j)).map(v=>`  - ${v}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(v=>`  - ${v}`).join(`
`)].join(`
`));let p=Ee((r=m.props)!=null?r:{},y,B),s=tt(m,p,!0);for(let v in p)v.startsWith("on")&&(s.props||(s.props={}),s.props[v]=p[v]);return s}return Array.isArray(k)&&k.length===1?k[0]:k}return at(c,Object.assign({},y,B),{default:()=>k})}function Ae(e){return e.flatMap(a=>a.type===F?Ae(a.children):[a])}function Ee(...e){if(e.length===0)return{};if(e.length===1)return e[0];let a={},i={};for(let u of e)for(let t in u)t.startsWith("on")&&typeof u[t]=="function"?(i[t]!=null||(i[t]=[]),i[t].push(u[t])):a[t]=u[t];if(a.disabled||a["aria-disabled"])return Object.assign(a,Object.fromEntries(Object.keys(i).map(u=>[u,void 0])));for(let u in i)Object.assign(a,{[u](t,...l){let r=i[u];for(let c of r){if(t instanceof Event&&t.defaultPrevented)return;c(t,...l)}}});return a}function $t(e,a=[]){let i=Object.assign({},e);for(let u of a)u in i&&delete i[u];return i}function St(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Ue=Symbol("Context");var ae=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ae||{});function Dt(){return pe(Ue,null)}function jt(e){fe(Ue,e)}var Y=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Y||{}),zt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(zt||{});let Le=Symbol("DisclosureContext");function ke(e){let a=pe(Le,null);if(a===null){let i=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,ke),i}return a}let He=Symbol("DisclosurePanelContext");function Pt(){return pe(He,null)}let It=K({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:a,attrs:i}){let u=G(e.defaultOpen?0:1),t=G(null),l=G(null),r={buttonId:G(`headlessui-disclosure-button-${Be()}`),panelId:G(`headlessui-disclosure-panel-${Be()}`),disclosureState:u,panel:t,button:l,toggleDisclosure(){u.value=ue(u.value,{0:1,1:0})},closeDisclosure(){u.value!==1&&(u.value=1)},close(c){r.closeDisclosure();let y=c?c instanceof HTMLElement?c:c.value instanceof HTMLElement?R(c):R(r.button):R(r.button);y==null||y.focus()}};return fe(Le,r),jt(z(()=>ue(u.value,{0:ae.Open,1:ae.Closed}))),()=>{let{defaultOpen:c,...y}=e,k={open:u.value===0,close:r.close};return me({theirProps:y,ourProps:{},slot:k,slots:a,attrs:i,name:"Disclosure"})}}}),At=K({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:a,slots:i,expose:u}){let t=ke("DisclosureButton"),l=Pt(),r=z(()=>l===null?!1:l.value===t.panelId.value);he(()=>{r.value||e.id!==null&&(t.buttonId.value=e.id)}),je(()=>{r.value||(t.buttonId.value=null)});let c=G(null);u({el:c,$el:c}),r.value||De(()=>{t.button.value=c.value});let y=Ot(z(()=>({as:e.as,type:a.type})),c);function k(){var d;e.disabled||(r.value?(t.toggleDisclosure(),(d=R(t.button))==null||d.focus()):t.toggleDisclosure())}function B(d){var p;if(!e.disabled)if(r.value)switch(d.key){case Y.Space:case Y.Enter:d.preventDefault(),d.stopPropagation(),t.toggleDisclosure(),(p=R(t.button))==null||p.focus();break}else switch(d.key){case Y.Space:case Y.Enter:d.preventDefault(),d.stopPropagation(),t.toggleDisclosure();break}}function m(d){switch(d.key){case Y.Space:d.preventDefault();break}}return()=>{var d;let p={open:t.disclosureState.value===0},{id:s,...v}=e,j=r.value?{ref:c,type:y.value,onClick:k,onKeydown:B}:{id:(d=t.buttonId.value)!=null?d:s,ref:c,type:y.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||R(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:k,onKeydown:B,onKeyup:m};return me({ourProps:j,theirProps:v,slot:p,attrs:a,slots:i,name:"DisclosureButton"})}}}),Et=K({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:a,slots:i,expose:u}){let t=ke("DisclosurePanel");he(()=>{e.id!==null&&(t.panelId.value=e.id)}),je(()=>{t.panelId.value=null}),u({el:t.panel,$el:t.panel}),fe(He,t.panelId);let l=Dt(),r=z(()=>l!==null?(l.value&ae.Open)===ae.Open:t.disclosureState.value===0);return()=>{var c;let y={open:t.disclosureState.value===0,close:t.close},{id:k,...B}=e,m={id:(c=t.panelId.value)!=null?c:k,ref:t.panel};return me({ourProps:m,theirProps:B,slot:y,attrs:a,slots:i,features:ye.RenderStrategy|ye.Static,visible:r.value,name:"DisclosurePanel"})}}});const be=ee(L.ui.strategy,L.ui.accordion,ft),Ut=ee(L.ui.strategy,L.ui.button,ze),Lt=K({components:{HDisclosure:It,HDisclosureButton:At,HDisclosurePanel:Et,UIcon:ce,UButton:re},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>be.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>be.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:a}){const{ui:i,attrs:u}=ne("accordion",D(e,"ui"),be,D(e,"class")),t=z(()=>Ut),l=G([]),r=z(()=>l.value.map(({open:d})=>d));nt(r,(d,p)=>{for(const s in d){const v=p[s],j=d[s];!v&&j&&a("open",s)}},{immediate:!0});function c(d,p){!e.items[d].closeOthers&&e.multiple||l.value.forEach(s=>{s.open&&s.close(p.target)})}function y(d,p){const s=d;s.style.height="0",s.offsetHeight,s.style.height=s.scrollHeight+"px",s.addEventListener("transitionend",p,{once:!0})}function k(d){const p=d;p.style.height=p.scrollHeight+"px",p.offsetHeight}function B(d){const p=d;p.style.height="auto"}function m(d,p){const s=d;s.style.height="0",s.addEventListener("transitionend",p,{once:!0})}return Ct(()=>Ye("$SZ7s8siktv")),{ui:i,uiButton:t,attrs:u,buttonRefs:l,closeOthers:c,omit:rt,onEnter:y,onBeforeLeave:k,onAfterEnter:B,onLeave:m}}}),Ht={key:1};function Nt(e,a,i,u,t,l){const r=ce,c=re,y=ve("HDisclosureButton"),k=ve("HDisclosurePanel"),B=ve("HDisclosure");return g(),C("div",{class:O(e.ui.wrapper)},[(g(!0),C(F,null,J(e.items,(m,d)=>(g(),N(B,{key:d,as:"div",class:O(e.ui.container),"default-open":e.defaultOpen||m.defaultOpen},{default:V(({open:p,close:s})=>[H(y,{ref_for:!0,ref:()=>e.buttonRefs[d]={open:p,close:s},as:"template",disabled:m.disabled,onClick:v=>e.closeOthers(d,v),onKeydown:[Ce(v=>e.closeOthers(d,v),["enter"]),Ce(v=>e.closeOthers(d,v),["space"])]},{default:V(()=>[x(e.$slots,"default",{item:m,index:d,open:p,close:s},()=>[H(c,U({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(m,["slot","disabled","content","defaultOpen"])}),{trailing:V(()=>[H(r,{name:p&&e.closeIcon?e.closeIcon:e.openIcon,class:O([p&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[m.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),H(ot,U({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:V(()=>[e.unmount?(g(),N(k,{key:0,class:O([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:V(()=>[x(e.$slots,m.slot||"item",{item:m,index:d,open:p,close:s},()=>[ie(Z(m.content),1)])]),_:2},1032,["class"])):lt((g(),C("div",Ht,[H(k,{class:O([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:V(()=>[x(e.$slots,m.slot||"item",{item:m,index:d,open:p,close:s},()=>[ie(Z(m.content),1)])]),_:2},1032,["class"])],512)),[[st,p]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Ft=de(Lt,[["render",Nt]]),q=ee(L.ui.strategy,L.ui.pagination,vt),Mt=ee(L.ui.strategy,L.ui.button,ze),Tt=K({components:{UButton:re},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>q.default.size,validator(e){return Object.keys(Mt.size).includes(e)}},activeButton:{type:Object,default:()=>q.default.activeButton},inactiveButton:{type:Object,default:()=>q.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>q.default.firstButton},lastButton:{type:Object,default:()=>q.default.lastButton},prevButton:{type:Object,default:()=>q.default.prevButton},nextButton:{type:Object,default:()=>q.default.nextButton},divider:{type:String,default:"…"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:a}){const{ui:i,attrs:u}=ne("pagination",D(e,"ui"),q,D(e,"class")),t=z({get(){return e.modelValue},set(s){a("update:modelValue",s)}}),l=z(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(s,v)=>v+1)),r=z(()=>{const s=l.value.length,v=t.value,j=Math.max(e.max,5),$=Math.floor((Math.min(j,s)-5)/2),X=v-$,te=v+$,A=X-1>1,oe=te+1<s,w=[];if(s<=j){for(let E=1;E<=s;E++)w.push(E);return w}if(w.push(1),A&&w.push(e.divider),!oe){const E=v+$+2-s;for(let T=v-$-E;T<=v-$-1;T++)w.push(T)}for(let E=Math.max(2,X);E<=Math.min(s,te);E++)w.push(E);if(!A){const E=1-(v-$-2);for(let T=v+$+1;T<=v+$+E;T++)w.push(T)}return oe&&w.push(e.divider),te<s&&w.push(s),w.length>=3&&w[1]===e.divider&&w[2]===3&&(w[1]=2),w.length>=3&&w[w.length-2]===e.divider&&w[w.length-1]===w.length&&(w[w.length-2]=w.length-1),w}),c=z(()=>t.value>1),y=z(()=>t.value<l.value.length);function k(){c.value&&(t.value=1)}function B(){y.value&&(t.value=l.value.length)}function m(s){typeof s!="string"&&(t.value=s)}function d(){c.value&&t.value--}function p(){y.value&&t.value++}return{ui:i,attrs:u,currentPage:t,pages:l,displayedPages:r,canGoLastOrNext:y,canGoFirstOrPrev:c,onClickPrev:d,onClickNext:p,onClickPage:m,onClickFirst:k,onClickLast:B}}});function Vt(e,a,i,u,t,l){const r=re;return g(),C("div",U({class:e.ui.wrapper},e.attrs),[x(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(g(),N(r,U({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):M("",!0)]),x(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(g(),N(r,U({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):M("",!0)]),(g(!0),C(F,null,J(e.displayedPages,(c,y)=>(g(),N(r,U({key:`${c}-${y}`,size:e.size,disabled:e.disabled,label:`${c}`,ref_for:!0},c===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof c=="string","z-[1]":c===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(c)}),null,16,["size","disabled","label","class","onClick"]))),128)),x(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(g(),N(r,U({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):M("",!0)]),x(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(g(),N(r,U({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):M("",!0)])],16)}const xt=de(Tt,[["render",Vt]]),Rt={key:0,class:"rounded-lg border"},_t={class:"max-h-36 overflow-auto"},qt=["data-filter-key","data-filter-value"],Gt=["calss"],Kt=["ui"],Qt=["calss"],Wt=["index","calss"],Jt=["innerHTML"],ra=K({__name:"sh-dynamic-table",props:it({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:W.default.perPage},transformRawData:{default:()=>null},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let a,i;const{$filterDDFObjects:u,$filterCommonObjects:t}=ut();W.perPage;const l=e,{ui:r,attrs:c}=ne("sh-dynamic-table",D(l,"ui"),W,D(l,"class")),y=async()=>{try{let n=await $fetch(l.dataUrl);return l.transformRawData&&(l.transformRawData==="filterDDFObjects"?n=u(n):l.transformRawData==="filterCommonObjects"&&(n=t(n))),l.dataField?n[l.dataField]:n}catch(n){return console.log(n),[]}},k=async()=>{m.value=await y(),B()},B=async()=>{d.value=[];let n=oe(m.value);n=w(n),n=E(n),X.value=Te(n),j.value=(n==null?void 0:n.length)>0?n.length:0;let o=p.value*v.value-v.value,f=o+v.value>j.value?j.value:o+v.value;for(let h=o;h<f;h++)d.value.push(n[h])},m=D([]),d=D([]),p=Oe(e,"page"),s=Oe(e,"q"),v=D(l.perPage),j=D(0),$=D([]),X=D([]),te=D([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),A=D({}),oe=n=>{const o=l.columns.filter(f=>f.query).map(f=>f.name);return s.value.length>0?n.filter(f=>{var P;let h=!1;for(name of o)if(name==="Undefined"){if(s.value===""){h=!0;break}}else if((P=f[name])!=null&&P.toString().toLowerCase().includes(s.value.toLowerCase())){h=!0;break}return h}):n},w=n=>$.value.length>0?$.value.reduce((o,f)=>(o.length>0?o=o.filter(h=>h[f.name]&&f.value?h[f.name].toString()===f.value.toString():!1):o=n.filter(h=>h[f.name]&&f.value?h[f.name].toString()===f.value.toString():!1),o),[]):n,E=n=>Object.keys(A).length>0&&n&&typeof n.sort=="function"?n.sort((o,f)=>_e(o[A.value.name],f[A.value.name],A.value.direction)):n,T=(n,o)=>$.value.filter(h=>h.name===n&&h.value===o).length>0,we=n=>n!=null&&n.title?n.title:"",Ne=(n,o)=>{let f="";if(o.type==="url"){const h=n[o==null?void 0:o.name]?n[o.name]:" ";f=`<a href="${n[o==null?void 0:o.typeData]?n[o.typeData[0]]:" "}" target="_blank">${h}</a>`}else f=n[o==null?void 0:o.name]?n[o.name]:" ";return f},Fe=n=>{var o;return((o=A.value)==null?void 0:o.name)===n.name?A.value.direction==="asc"?W.default.sortAscIcon:W.default.sortDescIcon:W.default.sortButton.icon},Me=()=>{const n=l.columns.reduce((o,f)=>f.filter?o+1:o,0);return n<2?"grid grid-cols-1 gap-4 min-h-48":n<3?"grid grid-cols-2 gap-2 min-h-48":n<4?"grid grid-cols-3 gap-1 min-h-48":"grid grid-cols-4 gap-1 min-h-48"},Te=n=>{const o={};return l.columns.forEach(f=>{f.filter&&(o[f.name]={})}),n&&typeof n.forEach=="function"&&n.forEach(f=>{l.columns.forEach(h=>{if(Object.keys(f).includes(h.name)&&Object.keys(o).includes(h.name)){const P=f[h.name]?f[h.name]:"Undefined";o[h.name][P]=o[h.name][P]?o[h.name][P]+1:1}})}),o},Ve=n=>{B()},xe=n=>{p.value=1,s.value=s.value.trim(),B()},Re=n=>{const o=n.currentTarget.getAttribute("data-filter-key"),f=n.currentTarget.getAttribute("data-filter-value"),h=$.value.filter(P=>P.name===o&&P.value===f);h.length>0?$.value=$.value.filter(P=>P!=h[0]):$.value.push({name:o,value:f}),p.value=1,s.value="",B()},_e=(n,o,f)=>(n==null&&(n=""),o==null&&(o=""),n===o?0:f==="asc"?n<o?-1:1:n>o?-1:1),qe=n=>{A.value.name===n.name?A.value.direction=A.value.direction==="asc"?"desc":"asc":A.value={name:n.name,direction:"asc"},B()};return[a,i]=dt(()=>k()),await a,i(),(n,o)=>{const f=Xe,h=Ze,P=yt,Ge=kt,Ke=Ft,Qe=re,We=xt;return g(),C("div",U({class:[b(r).wrapper,l.class]},b(c)),[l.header?(g(),C("div",{key:0,class:O(b(r).header)},[l.header?(g(),N(f,{key:0,value:l.header},null,8,["value"])):M("",!0)],2)):M("",!0),I("div",{class:O(b(r).base)},[I("div",{class:O(b(r).search)},[H(h,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=S=>s.value=S),type:"text",onKeyup:xe,placeholder:"type a token to search for"},null,8,["modelValue"])],2),I("div",{class:O(b(r).filter)},[H(Ke,{items:b(te),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":V(()=>[I("div",{class:O(Me())},[(g(!0),C(F,null,J(l.columns,S=>(g(),C(F,null,[S.filter?(g(),C("div",Rt,[H(P,{label:S.title,class:"py-4"},null,8,["label"]),I("ul",_t,[(g(!0),C(F,null,J(Object.keys(b(X)[S.name]),Q=>(g(),C("li",{"data-filter-key":S.name,"data-filter-value":Q,onClick:Re,class:O(["list-none flex justify-between p-2 hover:cursor-pointer",[T(S.name,Q)?b(r).tr.selected:"",b(r).tr.active]])},[I("span",null,Z(Q),1),H(Ge,null,{default:V(()=>[ie(Z(b(X)[S.name][Q]),1)]),_:2},1024)],10,qt))),256))])])):M("",!0)],64))),256))],2)]),_:1},8,["items"])],2),I("table",{class:O(b(r).table)},[I("thead",{calss:b(r).thead},[I("tr",{ui:b(r)},[(g(!0),C(F,null,J(l.columns,S=>(g(),C("th",{class:O([b(r).th.base,b(r).th.padding,b(r).th.color,b(r).th.font,b(r).th.size])},[S.sortable?(g(),N(Qe,U({key:0,ref_for:!0},{...b(W).default.sortButton},{icon:Fe(S),onClick:Q=>qe(S)}),{default:V(()=>[H(f,{value:we(S),class:"not-prose"},null,8,["value"])]),_:2},1040,["icon","onClick"])):(g(),N(f,{key:1,value:we(S),class:"not-prose"},null,8,["value"]))],2))),256))],8,Kt)],8,Gt),I("tbody",{calss:b(r).tbody},[(g(!0),C(F,null,J(b(d),(S,Q)=>(g(),C("tr",{index:Q,calss:b(r).tr.base},[(g(!0),C(F,null,J(l.columns,Je=>(g(),C("td",{innerHTML:Ne(S,Je),class:O([[b(r).td.base,b(r).td.padding,b(r).td.color,b(r).td.font,b(r).td.size],"not-prose"])},null,10,Jt))),256))],8,Wt))),256))],8,Qt)],2),I("div",{class:O(b(r).pagination)},[H(We,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=S=>p.value=S),"page-count":b(v),total:b(j),max:10,onClick:Ve,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])],2)],2),l.footer?(g(),C("div",{key:1,class:O(b(r).footer)},[H(f,{value:l.footer},null,8,["value"])],2)):M("",!0)],16)}}});export{ra as default};
