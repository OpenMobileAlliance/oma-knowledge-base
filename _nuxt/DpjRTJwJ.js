import{_ as at}from"./uQXEDPW4.js";import{_ as nt}from"./DgGOR0L5.js";import{f as J,G as Z,$ as Be,a0 as Oe,a1 as te,U as Ie,a2 as st,h as I,a3 as de,a4 as me,R as ye,Y as Pe,a5 as ot,a6 as rt,a7 as lt,a8 as Se,S as je,a9 as ne,m as ae,p as U,_ as fe,q as pe,s as Ae,i as se,j as z,x as Le,y as ie,o as c,c as g,a as m,n as B,F,z as G,t as W,A as N,B as E,l as x,aa as it,d as ce,ab as Ee,v as oe,ac as Ue,ad as ut,ae as dt,af as ue,r as Y,w as R,b as M,ag as De,ah as ct,ai as ft,aj as pt,T as vt,ak as gt,al as bt,am as ze,an as ee,D as ht,k as f}from"./D4yxDw1k.js";import"./BneCoJRQ.js";const mt={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},yt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200 flex-shrink-0"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft",truncate:!0}},kt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},wt={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}};var Ct=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ct||{});let _e=Symbol("DisclosureContext");function ke(e){let d=je(_e,null);if(d===null){let $=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace($,ke),$}return d}let Fe=Symbol("DisclosurePanelContext");function $t(){return je(Fe,null)}let Bt=J({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:d,attrs:$}){let y=Z(e.defaultOpen?0:1),o=Z(null),h=Z(null),p={buttonId:Z(`headlessui-disclosure-button-${Be()}`),panelId:Z(`headlessui-disclosure-panel-${Be()}`),disclosureState:y,panel:o,button:h,toggleDisclosure(){y.value=Oe(y.value,{0:1,1:0})},closeDisclosure(){y.value!==1&&(y.value=1)},close(n){p.closeDisclosure();let l=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?te(n):te(p.button):te(p.button);l==null||l.focus()}};return Ie(_e,p),st(I(()=>Oe(y.value,{0:de.Open,1:de.Closed}))),()=>{let{defaultOpen:n,...l}=e,S={open:y.value===0,close:p.close};return me({theirProps:l,ourProps:{},slot:S,slots:d,attrs:$,name:"Disclosure"})}}}),Ot=J({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:d,slots:$,expose:y}){let o=ke("DisclosureButton"),h=$t(),p=I(()=>h===null?!1:h.value===o.panelId.value);ye(()=>{p.value||e.id!==null&&(o.buttonId.value=e.id)}),Pe(()=>{p.value||(o.buttonId.value=null)});let n=Z(null);y({el:n,$el:n}),p.value||ot(()=>{o.button.value=n.value});let l=rt(I(()=>({as:e.as,type:d.type})),n);function S(){var u;e.disabled||(p.value?(o.toggleDisclosure(),(u=te(o.button))==null||u.focus()):o.toggleDisclosure())}function _(u){var v;if(!e.disabled)if(p.value)switch(u.key){case ne.Space:case ne.Enter:u.preventDefault(),u.stopPropagation(),o.toggleDisclosure(),(v=te(o.button))==null||v.focus();break}else switch(u.key){case ne.Space:case ne.Enter:u.preventDefault(),u.stopPropagation(),o.toggleDisclosure();break}}function O(u){switch(u.key){case ne.Space:u.preventDefault();break}}return()=>{var u;let v={open:o.disclosureState.value===0},{id:i,...k}=e,j=p.value?{ref:n,type:l.value,onClick:S,onKeydown:_}:{id:(u=o.buttonId.value)!=null?u:i,ref:n,type:l.value,"aria-expanded":o.disclosureState.value===0,"aria-controls":o.disclosureState.value===0||te(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:S,onKeydown:_,onKeyup:O};return me({ourProps:j,theirProps:k,slot:v,attrs:d,slots:$,name:"DisclosureButton"})}}}),St=J({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:d,slots:$,expose:y}){let o=ke("DisclosurePanel");ye(()=>{e.id!==null&&(o.panelId.value=e.id)}),Pe(()=>{o.panelId.value=null}),y({el:o.panel,$el:o.panel}),Ie(Fe,o.panelId);let h=lt(),p=I(()=>h!==null?(h.value&de.Open)===de.Open:o.disclosureState.value===0);return()=>{var n;let l={open:o.disclosureState.value===0,close:o.close},{id:S,..._}=e,O={id:(n=o.panelId.value)!=null?n:S,ref:o.panel};return me({ourProps:O,theirProps:_,slot:l,attrs:d,slots:$,features:Se.RenderStrategy|Se.Static,visible:p.value,name:"DisclosurePanel"})}}});const X={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",base:"",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",thead:"",tr:{base:"",selected:"bg-oma-blue-400 hover:bg-oma-blue-300 text-white dark:bg-oma-blue-600 dark:hover:bg-oma-blue-500 dark:text-golden",active:"hover:bg-neutral-200 dark:hover:bg-neutral-600 cursor-pointer"},th:{base:"text-left rtl:text-right dark:bg-neutral-600",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5 font-semibold text-sm"}}},le=ae(U.ui.strategy,U.ui.divider,kt),Dt=J({components:{UIcon:pe,UAvatar:Ae},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.border.size.horizontal).includes(e)||Object.keys(le.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:$}=se("divider",z(e,"ui"),le),y=I(()=>Le(ie(d.value.wrapper.base,d.value.wrapper[e.orientation]),e.class)),o=I(()=>ie(d.value.container.base,d.value.container[e.orientation])),h=I(()=>ie(d.value.border.base,d.value.border[e.orientation],d.value.border.size[e.orientation][e.size],d.value.border.type[e.type]));return{ui:d,attrs:$,wrapperClass:y,containerClass:o,borderClass:h}}});function zt(e,d,$,y,o,h){const p=pe,n=Ae;return c(),g("div",E({class:e.wrapperClass},e.attrs),[m("div",{class:B(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(c(),g(F,{key:0},[m("div",{class:B(e.containerClass)},[G(e.$slots,"default",{},()=>[e.label?(c(),g("span",{key:0,class:B(e.ui.label)},W(e.label),3)):e.icon?(c(),N(p,{key:1,name:e.icon,class:B(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(c(),N(n,E({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):x("",!0)])],2),m("div",{class:B(e.borderClass)},null,2)],64)):x("",!0)],16)}const It=fe(Dt,[["render",zt]]),K=ae(U.ui.strategy,U.ui.badge,mt),Pt=J({inheritAttrs:!1,props:{size:{type:String,default:()=>K.default.size,validator(e){return Object.keys(K.size).includes(e)}},color:{type:String,default:()=>K.default.color,validator(e){return[...U.ui.colors,...Object.keys(K.color)].includes(e)}},variant:{type:String,default:()=>K.default.variant,validator(e){return[...Object.keys(K.variant),...Object.values(K.color).flatMap(d=>Object.keys(d))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:$}=se("badge",z(e,"ui"),K),{size:y,rounded:o}=it({ui:d,props:e}),h=I(()=>{var n,l;const p=((l=(n=d.value.color)==null?void 0:n[e.color])==null?void 0:l[e.variant])||d.value.variant[e.variant];return Le(ie(d.value.base,d.value.font,o.value,d.value.size[y.value],p==null?void 0:p.replaceAll("{color}",e.color)),e.class)});return{attrs:$,badgeClass:h}}});function jt(e,d,$,y,o,h){return c(),g("span",E({class:e.badgeClass},e.attrs),[G(e.$slots,"default",{},()=>[ce(W(e.label),1)])],16)}const At=fe(Pt,[["render",jt]]),he=ae(U.ui.strategy,U.ui.accordion,yt),Lt=ae(U.ui.strategy,U.ui.button,Ee),Et=J({components:{HDisclosure:Bt,HDisclosureButton:Ot,HDisclosurePanel:St,UIcon:pe,UButton:oe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>he.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>he.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:d}){const{ui:$,attrs:y}=se("accordion",z(e,"ui"),he,z(e,"class")),o=I(()=>Lt),h=Z([]),p=I(()=>h.value.map(({open:u})=>u));Ue(p,(u,v)=>{for(const i in u){const k=v[i],j=u[i];!k&&j&&d("open",i)}},{immediate:!0});function n(u,v){!e.items[u].closeOthers&&e.multiple||h.value.forEach(i=>{i.open&&i.close(v.target)})}function l(u,v){const i=u;i.style.height="0",i.offsetHeight,i.style.height=i.scrollHeight+"px",i.addEventListener("transitionend",v,{once:!0})}function S(u){const v=u;v.style.height=v.scrollHeight+"px",v.offsetHeight}function _(u){const v=u;v.style.height="auto"}function O(u,v){const i=u;i.style.height="0",i.addEventListener("transitionend",v,{once:!0})}return ut(()=>vt("$SZ7s8siktv")),{ui:$,uiButton:o,attrs:y,buttonRefs:h,closeOthers:n,omit:dt,onEnter:l,onBeforeLeave:S,onAfterEnter:_,onLeave:O}}}),Ut={key:1};function _t(e,d,$,y,o,h){const p=pe,n=oe,l=ue("HDisclosureButton"),S=ue("HDisclosurePanel"),_=ue("HDisclosure");return c(),g("div",{class:B(e.ui.wrapper)},[(c(!0),g(F,null,Y(e.items,(O,u)=>(c(),N(_,{key:u,as:"div",class:B(e.ui.container),"default-open":e.defaultOpen||O.defaultOpen},{default:R(({open:v,close:i})=>[M(l,{ref_for:!0,ref:()=>e.buttonRefs[u]={open:v,close:i},as:"template",disabled:O.disabled,onClick:k=>e.closeOthers(u,k),onKeydown:[De(k=>e.closeOthers(u,k),["enter"]),De(k=>e.closeOthers(u,k),["space"])]},{default:R(()=>[G(e.$slots,"default",{item:O,index:u,open:v,close:i},()=>[M(n,E({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(O,["slot","disabled","content","defaultOpen"])}),{trailing:R(()=>[M(p,{name:v&&e.closeIcon?e.closeIcon:e.openIcon,class:B([v&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[O.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),M(ct,E({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:R(()=>[e.unmount?(c(),N(S,{key:0,class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:R(()=>[G(e.$slots,O.slot||"item",{item:O,index:u,open:v,close:i},()=>[ce(W(O.content),1)])]),_:2},1032,["class"])):ft((c(),g("div",Ut,[M(S,{class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:R(()=>[G(e.$slots,O.slot||"item",{item:O,index:u,open:v,close:i},()=>[ce(W(O.content),1)])]),_:2},1032,["class"])],512)),[[pt,v]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Ft=fe(Et,[["render",_t]]),Q=ae(U.ui.strategy,U.ui.pagination,wt),Mt=ae(U.ui.strategy,U.ui.button,Ee),xt=J({components:{UButton:oe},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>Q.default.size,validator(e){return Object.keys(Mt.size).includes(e)}},to:{type:Function,default:null},activeButton:{type:Object,default:()=>Q.default.activeButton},inactiveButton:{type:Object,default:()=>Q.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>Q.default.firstButton},lastButton:{type:Object,default:()=>Q.default.lastButton},prevButton:{type:Object,default:()=>Q.default.prevButton},nextButton:{type:Object,default:()=>Q.default.nextButton},divider:{type:String,default:"…"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:d}){const{ui:$,attrs:y}=se("pagination",z(e,"ui"),Q,z(e,"class")),o=I({get(){return e.modelValue},set(i){d("update:modelValue",i)}}),h=I(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(i,k)=>k+1)),p=I(()=>{const i=h.value.length,k=o.value,j=Math.max(e.max,5),P=Math.floor((Math.min(j,i)-5)/2),H=k-P,A=k+P,V=H-1>1,T=A+1<i,b=[];if(i<=j){for(let L=1;L<=i;L++)b.push(L);return b}if(b.push(1),V&&b.push(e.divider),!T){const L=k+P+2-i;for(let D=k-P-L;D<=k-P-1;D++)b.push(D)}for(let L=Math.max(2,H);L<=Math.min(i,A);L++)b.push(L);if(!V){const L=1-(k-P-2);for(let D=k+P+1;D<=k+P+L;D++)b.push(D)}return T&&b.push(e.divider),A<i&&b.push(i),b.length>=3&&b[1]===e.divider&&b[2]===3&&(b[1]=2),b.length>=3&&b[b.length-2]===e.divider&&b[b.length-1]===b.length&&(b[b.length-2]=b.length-1),b}),n=I(()=>o.value>1),l=I(()=>o.value<h.value.length);function S(){n.value&&(o.value=1)}function _(){l.value&&(o.value=h.value.length)}function O(i){typeof i!="string"&&(o.value=i)}function u(){n.value&&o.value--}function v(){l.value&&o.value++}return{ui:$,attrs:y,currentPage:o,pages:h,displayedPages:p,canGoLastOrNext:l,canGoFirstOrPrev:n,onClickPrev:u,onClickNext:v,onClickPage:O,onClickFirst:S,onClickLast:_}}});function Ht(e,d,$,y,o,h){const p=oe;return c(),g("div",E({class:e.ui.wrapper},e.attrs),[G(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(c(),N(p,E({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):x("",!0)]),G(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(c(),N(p,E({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):x("",!0)]),(c(!0),g(F,null,Y(e.displayedPages,(n,l)=>{var S;return c(),N(p,E({key:`${n}-${l}`,to:typeof n=="number"?(S=e.to)==null?void 0:S.call(e,n):null,size:e.size,disabled:e.disabled,label:`${n}`,ref_for:!0},n===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof n=="string","z-[1]":n===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(n)}),null,16,["to","size","disabled","label","class","onClick"])}),128)),G(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(c(),N(p,E({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):x("",!0)]),G(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(c(),N(p,E({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):x("",!0)])],16)}const Nt=fe(xt,[["render",Ht]]),Vt={class:"flex flex-row gap-2"},Tt={class:"text-base flex flex-row"},qt=["value"],Rt={class:"pl-4"},Gt={class:"pl-8 grow"},Kt={key:0,class:"rounded-lg border"},Qt={class:"max-h-36 overflow-auto"},Yt=["data-filter-key","data-filter-value"],Wt={class:"w-full overflow-x-auto"},Jt=["calss"],Xt=["ui"],Zt=["innerHTML"],ea=["innerHTML"],ta=["calss"],aa=["id","calss"],na=["innerHTML","id"],sa={class:"flex flex-row justify-between"},oa={class:"text-xs"},ca=J({__name:"sh-dynamic-table",props:gt({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:X.default.perPage},transformRawData:{default:()=>null},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let d,$;const{$filterDDFObjects:y,$filterCommonObjects:o,$filterOmaEnablers:h}=bt(),p=X.perPage,n=e,{ui:l,attrs:S}=se("sh-dynamic-table",z(n,"ui"),X,z(n,"class")),_=async()=>{try{j.value=[],k.value=[],ee();let t=await $fetch(n.dataUrl);return n.transformRawData&&(n.transformRawData==="filterDDFObjects"?t=y(t):n.transformRawData==="filterCommonObjects"?t=o(t):n.transformRawData==="filterOmaEnablers"&&(t=h(t))),ee(),n.dataField?O(t[n.dataField]):O(t)}catch(t){return console.log(t),[]}},O=t=>{var a;for(let s=0;s<t.length;s++)(a=n.columns)==null||a.forEach(r=>{if(r.name&&r.formatColumValue&&r.formatColumValue==="DY"&&t[s][r.name])try{let w=new Date(t[s][r.name]);w=w.getFullYear().toString(),t[s][r.name]=w}catch(w){console.log(w)}});return t},u=async()=>{k.value=await _(),ee(),Me(),i()},v=z(""),i=()=>{let t=xe(k.value);if(t=He(t),t=Ne(t),b.value=Ge(t),V.value=(t==null?void 0:t.length)>0?t.length:0,A.value===-1){for(let a=0;a<V.value;a++)j.value.push(t[a]);v.value=`Showing ${V.value} items`}else{let a=P.value*A.value-A.value,s=a+A.value>V.value?V.value:a+A.value;v.value="",j.value=[],ee();for(let r=a;r<s;r++)j.value.push(t[r]);v.value=`Showing ${s>0?a+1:0} to ${s} out of ${V.value} items`}ee()},k=z([]),j=z([]),P=ze(e,"page"),H=ze(e,"q"),A=z(n.perPage),V=z(0),T=z([]),b=z([]),L=z([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),D=z({}),ve=z([]),Me=()=>{if(ve.value=[],n.columns){let t=n.columns.reduce((a,s)=>(s&&s.filter&&a.push(s),a),[]);t=t.sort((a,s)=>!a.filterOrder&&!s.filterOrder?0:s.filterOrder?a.filterOrder-s.filterOrder:-1),ve.value=t}},xe=t=>{const a=n.columns.filter(s=>s.query).map(s=>s.name);return H.value.length>0?t.filter(s=>{var w;let r=!1;for(name of a)if(name==="Undefined"){if(H.value===""){r=!0;break}}else if((w=s[name])!=null&&w.toString().toLowerCase().includes(H.value.toLowerCase())){r=!0;break}return r}):t},He=t=>T.value.length>0?T.value.reduce((a,s)=>(a.length>0?a=a.filter(r=>r[s.name]&&s.value?r[s.name].toString()===s.value.toString():!1):a=t.filter(r=>r[s.name]&&s.value?r[s.name].toString()===s.value.toString():!1),a),[]):t,Ne=t=>Object.keys(D).length>0&&t&&typeof t.sort=="function"?t.sort((a,s)=>Je(a[D.value.name],s[D.value.name],D.value.direction)):t,Ve=(t,a)=>T.value.filter(r=>r.name===t&&r.value===a).length>0,we=t=>t!=null&&t.title?t.title:"",Te=(t,a)=>{let s="";if(a.type==="url"){const r=t[a==null?void 0:a.name]?t[a.name]:"";s=`<a href="${t[a==null?void 0:a.typeData]?t[a.typeData[0]]:""}" target="_blank">${r}</a>`}else if(a.type==="subs")s=t[a==null?void 0:a.typeData]?t[a.typeData]:"";else{const r=t[a.name];s=(r==null?void 0:r.length)>0?r.toString():""}return s},qe=t=>{var a;return((a=D.value)==null?void 0:a.name)===t.name?D.value.direction==="asc"?X.default.sortAscIcon:X.default.sortDescIcon:X.default.sortButton.icon},Re=()=>{const t=n.columns.reduce((a,s)=>s.filter?a+1:a,0);return t<2?"grid grid-cols-1 gap-4 min-h-48":t<3?"grid grid-cols-2 gap-2 min-h-48":t<4?"grid grid-cols-3 gap-1 min-h-48":t<5?"grid grid-cols-4 gap-1 min-h-48":"grid grid-cols-5 gap-1 min-h-48"},Ge=t=>{const a={};return n.columns.forEach(s=>{s.filter&&(a[s.name]={})}),t&&typeof t.forEach=="function"&&t.forEach(s=>{n.columns.forEach(r=>{if(Object.keys(s).includes(r.name)&&Object.keys(a).includes(r.name)){const w=s[r.name]?s[r.name]:"Undefined";a[r.name][w]=a[r.name][w]?a[r.name][w]+1:1}})}),a},Ce=t=>{let a="";return typeof t=="string"&&(t.includes(",")||t.includes('"')||t.includes("#")||t.includes(`
`))?(a=t.replace(/"/g,'"'),a=a.replace(/,/g," "),a=a.replace(/\n/g," ")):t?a=t.length>0?t.toString():" ":a="NULL",`${a}`},Ke=()=>{let t="";const a=n.columns.map(w=>`${Ce(w.title)}`);t+=a.join(",")+`
`,j.value.forEach((w,$e)=>{const ge=n.columns.map(be=>`${Ce(w[be.name])}`);t+=ge.join(",")+`
`});const s="data:text/csv;charset=utf-8i,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","table_data.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Qe=t=>{i()},Ye=t=>{P.value=1,H.value=H.value.trim(),i()},We=t=>{const a=t.currentTarget.getAttribute("data-filter-key"),s=t.currentTarget.getAttribute("data-filter-value"),r=T.value.filter(w=>w.name===a&&w.value===s);r.length>0?T.value=T.value.filter(w=>w!=r[0]):T.value.push({name:a,value:s}),P.value=1,H.value="",i()},Je=(t,a,s)=>(t==null&&(t=""),a==null&&(a=""),t===a?0:s==="asc"?t<a?-1:1:t>a?-1:1),Xe=t=>{D.value.name===t.name?D.value.direction=D.value.direction==="asc"?"desc":"asc":D.value={name:t.name,direction:"asc"},i()},Ze=t=>{try{A.value=Number(t.target.value),i()}catch(a){console.error(a)}};return ye(()=>{u()}),Ue(k,(t,a)=>{i(),ee()},{immediate:!0}),[d,$]=ht(()=>u()),await d,$(),(t,a)=>{const s=at,r=ue("Icon"),w=nt,$e=It,ge=At,be=Ft,et=oe,tt=Nt;return c(),g("div",E({class:[f(l).wrapper,"w-full p-4"]},f(S)),[n.header?(c(),g("div",{key:0,class:B(f(l).header)},[n.header?(c(),N(s,{key:0,value:n.header},null,8,["value"])):x("",!0)],2)):x("",!0),m("div",{class:B(f(l).base)},[m("div",{class:B(f(l).search)},[m("div",Vt,[m("div",Tt,[a[2]||(a[2]=m("span",{class:"pr-2"},"Show: ",-1)),m("select",{class:"",onChange:Ze},[(c(!0),g(F,null,Y(f(p),C=>(c(),g("option",{key:C,value:C,class:B({selected:f(A)===C})},W(C),11,qt))),128)),m("option",{value:"-1",key:"-1",class:B({selected:f(A)===-1})},"All",2)],32)]),m("div",Rt,[m("button",{onClick:Ke,class:"hover:scale-125",title:"Download CSV file"},[M(r,{name:"i-carbon-download"})])]),m("div",Gt,[M(w,{modelValue:H.value,"onUpdate:modelValue":a[0]||(a[0]=C=>H.value=C),type:"text",onKeyup:Ye,placeholder:"type a token to search for"},null,8,["modelValue"])])])],2),m("div",{class:B(f(l).filter)},[M(be,{items:f(L),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":R(()=>[m("div",{class:B(Re())},[(c(!0),g(F,null,Y(f(ve),C=>(c(),g(F,null,[C.filter?(c(),g("div",Kt,[M($e,{label:C.title,class:"py-4 overflow-x-auto"},null,8,["label"]),m("ul",Qt,[(c(!0),g(F,null,Y(Object.keys(f(b)[C.name]).sort(),q=>(c(),g("li",{"data-filter-key":C.name,"data-filter-value":q,onClick:We,class:B(["list-none flex justify-between p-2 hover:cursor-pointer",[Ve(C.name,q)?f(l).tr.selected:"",f(l).tr.active]])},[m("span",null,W(q),1),M(ge,null,{default:R(()=>[ce(W(f(b)[C.name][q]),1)]),_:2},1024)],10,Yt))),256))])])):x("",!0)],64))),256))],2)]),_:1},8,["items"])],2),m("div",Wt,[m("table",{class:B([f(l).table,"min-w-full"])},[m("thead",{calss:f(l).thead},[m("tr",{ui:f(l)},[(c(!0),g(F,null,Y(n.columns,C=>(c(),g(F,null,[C.hide!==!0?(c(),g("th",{key:0,class:B([f(l).th.base,f(l).th.padding,f(l).th.color,f(l).th.font,f(l).th.size])},[C.sortable?(c(),N(et,E({key:0,ref_for:!0},{...f(X).default.sortButton},{icon:qe(C),onClick:q=>Xe(C)}),{default:R(()=>[m("span",{innerHTML:we(C),class:"not-prose"},null,8,Zt)]),_:2},1040,["icon","onClick"])):(c(),g("span",{key:1,innerHTML:we(C),class:"not-prose"},null,8,ea))],2)):x("",!0)],64))),256))],8,Xt)],8,Jt),m("tbody",{calss:f(l).tbody},[(c(!0),g(F,null,Y(f(j),(C,q)=>(c(),g("tr",{key:`${q}-${Date.now()}`,id:`${q}-${Date.now()}`,calss:f(l).tr.base},[(c(!0),g(F,null,Y(n.columns,(re,ra)=>(c(),g(F,{key:`${re.name}-${q}-${Date.now()}`},[re.hide?x("",!0):(c(),g("td",{key:0,innerHTML:Te(C,re),id:`${re.name}-${q}-${Date.now()}`,class:B([[f(l).td.base,f(l).td.padding,f(l).td.color,f(l).td.font,f(l).td.size],"not-prose"])},null,10,na))],64))),128))],8,aa))),128))],8,ta)],2)]),m("div",{class:B(f(l).pagination)},[m("div",sa,[m("div",oa,W(f(v)),1),M(tt,{modelValue:P.value,"onUpdate:modelValue":a[1]||(a[1]=C=>P.value=C),"page-count":f(A),total:f(V),max:10,onClick:Qe,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])])],2)],2),n.footer?(c(),g("div",{key:1,class:B(f(l).footer)},[M(s,{value:n.footer},null,8,["value"])],2)):x("",!0)],16)}}});export{ca as default};
