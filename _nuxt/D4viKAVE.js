import{_ as at}from"./CpHJK72c.js";import{g as X,J as Z,Z as Be,$ as Oe,a0 as te,U as Ie,a1 as nt,i as I,a2 as ue,a3 as me,K as ye,X as Pe,a4 as st,a5 as ot,a6 as rt,a7 as Se,S as _e,a8 as ne,q as ae,s as E,_ as ce,v as fe,x as je,j as se,k as D,z as Ae,A as ie,o as c,c as g,a as m,n as B,F,B as G,t as W,C as N,D as L,m as M,a9 as lt,d as de,aa as Le,y as oe,ab as Ee,ac as it,ad as ut,ae as be,r as J,w as R,b as x,af as De,ag as dt,ah as ct,ai as ft,T as pt,aj as vt,ak as gt,al as ze,am as ee,G as bt,l as f,an as ht}from"./C4Oc3QxC.js";import{_ as mt}from"./B-hPSMT4.js";import"./3j4Cpv8i.js";import"./C-v3KzvZ.js";import"./BneCoJRQ.js";const yt={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},kt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},wt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},Ct={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}};var $t=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))($t||{});let Ue=Symbol("DisclosureContext");function ke(e){let d=_e(Ue,null);if(d===null){let $=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace($,ke),$}return d}let Fe=Symbol("DisclosurePanelContext");function Bt(){return _e(Fe,null)}let Ot=X({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:d,attrs:$}){let y=Z(e.defaultOpen?0:1),o=Z(null),h=Z(null),p={buttonId:Z(`headlessui-disclosure-button-${Be()}`),panelId:Z(`headlessui-disclosure-panel-${Be()}`),disclosureState:y,panel:o,button:h,toggleDisclosure(){y.value=Oe(y.value,{0:1,1:0})},closeDisclosure(){y.value!==1&&(y.value=1)},close(n){p.closeDisclosure();let l=n?n instanceof HTMLElement?n:n.value instanceof HTMLElement?te(n):te(p.button):te(p.button);l==null||l.focus()}};return Ie(Ue,p),nt(I(()=>Oe(y.value,{0:ue.Open,1:ue.Closed}))),()=>{let{defaultOpen:n,...l}=e,z={open:y.value===0,close:p.close};return me({theirProps:l,ourProps:{},slot:z,slots:d,attrs:$,name:"Disclosure"})}}}),St=X({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:d,slots:$,expose:y}){let o=ke("DisclosureButton"),h=Bt(),p=I(()=>h===null?!1:h.value===o.panelId.value);ye(()=>{p.value||e.id!==null&&(o.buttonId.value=e.id)}),Pe(()=>{p.value||(o.buttonId.value=null)});let n=Z(null);y({el:n,$el:n}),p.value||st(()=>{o.button.value=n.value});let l=ot(I(()=>({as:e.as,type:d.type})),n);function z(){var u;e.disabled||(p.value?(o.toggleDisclosure(),(u=te(o.button))==null||u.focus()):o.toggleDisclosure())}function U(u){var v;if(!e.disabled)if(p.value)switch(u.key){case ne.Space:case ne.Enter:u.preventDefault(),u.stopPropagation(),o.toggleDisclosure(),(v=te(o.button))==null||v.focus();break}else switch(u.key){case ne.Space:case ne.Enter:u.preventDefault(),u.stopPropagation(),o.toggleDisclosure();break}}function O(u){switch(u.key){case ne.Space:u.preventDefault();break}}return()=>{var u;let v={open:o.disclosureState.value===0},{id:i,...k}=e,_=p.value?{ref:n,type:l.value,onClick:z,onKeydown:U}:{id:(u=o.buttonId.value)!=null?u:i,ref:n,type:l.value,"aria-expanded":o.disclosureState.value===0,"aria-controls":o.disclosureState.value===0||te(o.panel)?o.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:z,onKeydown:U,onKeyup:O};return me({ourProps:_,theirProps:k,slot:v,attrs:d,slots:$,name:"DisclosureButton"})}}}),Dt=X({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:d,slots:$,expose:y}){let o=ke("DisclosurePanel");ye(()=>{e.id!==null&&(o.panelId.value=e.id)}),Pe(()=>{o.panelId.value=null}),y({el:o.panel,$el:o.panel}),Ie(Fe,o.panelId);let h=rt(),p=I(()=>h!==null?(h.value&ue.Open)===ue.Open:o.disclosureState.value===0);return()=>{var n;let l={open:o.disclosureState.value===0,close:o.close},{id:z,...U}=e,O={id:(n=o.panelId.value)!=null?n:z,ref:o.panel};return me({ourProps:O,theirProps:U,slot:l,attrs:d,slots:$,features:Se.RenderStrategy|Se.Static,visible:p.value,name:"DisclosurePanel"})}}});const Y={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-oma-blue-400 hover:bg-oma-blue-300 text-white dark:bg-oma-blue-600 dark:hover:bg-oma-blue-500 dark:text-golden",active:"hover:bg-neutral-200 dark:hover:bg-neutral-600 cursor-pointer"},th:{base:"text-left rtl:text-right dark:bg-neutral-600",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5 font-semibold text-sm"}}},le=ae(E.ui.strategy,E.ui.divider,wt),zt=X({components:{UIcon:fe,UAvatar:je},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>le.default.size,validator(e){return Object.keys(le.border.size.horizontal).includes(e)||Object.keys(le.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:$}=se("divider",D(e,"ui"),le),y=I(()=>Ae(ie(d.value.wrapper.base,d.value.wrapper[e.orientation]),e.class)),o=I(()=>ie(d.value.container.base,d.value.container[e.orientation])),h=I(()=>ie(d.value.border.base,d.value.border[e.orientation],d.value.border.size[e.orientation][e.size],d.value.border.type[e.type]));return{ui:d,attrs:$,wrapperClass:y,containerClass:o,borderClass:h}}});function It(e,d,$,y,o,h){const p=fe,n=je;return c(),g("div",L({class:e.wrapperClass},e.attrs),[m("div",{class:B(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(c(),g(F,{key:0},[m("div",{class:B(e.containerClass)},[G(e.$slots,"default",{},()=>[e.label?(c(),g("span",{key:0,class:B(e.ui.label)},W(e.label),3)):e.icon?(c(),N(p,{key:1,name:e.icon,class:B(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(c(),N(n,L({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):M("",!0)])],2),m("div",{class:B(e.borderClass)},null,2)],64)):M("",!0)],16)}const Pt=ce(zt,[["render",It]]),K=ae(E.ui.strategy,E.ui.badge,yt),_t=X({inheritAttrs:!1,props:{size:{type:String,default:()=>K.default.size,validator(e){return Object.keys(K.size).includes(e)}},color:{type:String,default:()=>K.default.color,validator(e){return[...E.ui.colors,...Object.keys(K.color)].includes(e)}},variant:{type:String,default:()=>K.default.variant,validator(e){return[...Object.keys(K.variant),...Object.values(K.color).flatMap(d=>Object.keys(d))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:d,attrs:$}=se("badge",D(e,"ui"),K),{size:y,rounded:o}=lt({ui:d,props:e}),h=I(()=>{var n,l;const p=((l=(n=d.value.color)==null?void 0:n[e.color])==null?void 0:l[e.variant])||d.value.variant[e.variant];return Ae(ie(d.value.base,d.value.font,o.value,d.value.size[y.value],p==null?void 0:p.replaceAll("{color}",e.color)),e.class)});return{attrs:$,badgeClass:h}}});function jt(e,d,$,y,o,h){return c(),g("span",L({class:e.badgeClass},e.attrs),[G(e.$slots,"default",{},()=>[de(W(e.label),1)])],16)}const At=ce(_t,[["render",jt]]),he=ae(E.ui.strategy,E.ui.accordion,kt),Lt=ae(E.ui.strategy,E.ui.button,Le),Et=X({components:{HDisclosure:Ot,HDisclosureButton:St,HDisclosurePanel:Dt,UIcon:fe,UButton:oe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>he.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>he.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:d}){const{ui:$,attrs:y}=se("accordion",D(e,"ui"),he,D(e,"class")),o=I(()=>Lt),h=Z([]),p=I(()=>h.value.map(({open:u})=>u));Ee(p,(u,v)=>{for(const i in u){const k=v[i],_=u[i];!k&&_&&d("open",i)}},{immediate:!0});function n(u,v){!e.items[u].closeOthers&&e.multiple||h.value.forEach(i=>{i.open&&i.close(v.target)})}function l(u,v){const i=u;i.style.height="0",i.offsetHeight,i.style.height=i.scrollHeight+"px",i.addEventListener("transitionend",v,{once:!0})}function z(u){const v=u;v.style.height=v.scrollHeight+"px",v.offsetHeight}function U(u){const v=u;v.style.height="auto"}function O(u,v){const i=u;i.style.height="0",i.addEventListener("transitionend",v,{once:!0})}return it(()=>pt("$SZ7s8siktv")),{ui:$,uiButton:o,attrs:y,buttonRefs:h,closeOthers:n,omit:ut,onEnter:l,onBeforeLeave:z,onAfterEnter:U,onLeave:O}}}),Ut={key:1};function Ft(e,d,$,y,o,h){const p=fe,n=oe,l=be("HDisclosureButton"),z=be("HDisclosurePanel"),U=be("HDisclosure");return c(),g("div",{class:B(e.ui.wrapper)},[(c(!0),g(F,null,J(e.items,(O,u)=>(c(),N(U,{key:u,as:"div",class:B(e.ui.container),"default-open":e.defaultOpen||O.defaultOpen},{default:R(({open:v,close:i})=>[x(l,{ref_for:!0,ref:()=>e.buttonRefs[u]={open:v,close:i},as:"template",disabled:O.disabled,onClick:k=>e.closeOthers(u,k),onKeydown:[De(k=>e.closeOthers(u,k),["enter"]),De(k=>e.closeOthers(u,k),["space"])]},{default:R(()=>[G(e.$slots,"default",{item:O,index:u,open:v,close:i},()=>[x(n,L({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(O,["slot","disabled","content","defaultOpen"])}),{trailing:R(()=>[x(p,{name:v&&e.closeIcon?e.closeIcon:e.openIcon,class:B([v&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[O.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),x(dt,L({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:R(()=>[e.unmount?(c(),N(z,{key:0,class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:R(()=>[G(e.$slots,O.slot||"item",{item:O,index:u,open:v,close:i},()=>[de(W(O.content),1)])]),_:2},1032,["class"])):ct((c(),g("div",Ut,[x(z,{class:B([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:R(()=>[G(e.$slots,O.slot||"item",{item:O,index:u,open:v,close:i},()=>[de(W(O.content),1)])]),_:2},1032,["class"])],512)),[[ft,v]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const xt=ce(Et,[["render",Ft]]),Q=ae(E.ui.strategy,E.ui.pagination,Ct),Mt=ae(E.ui.strategy,E.ui.button,Le),Ht=X({components:{UButton:oe},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>Q.default.size,validator(e){return Object.keys(Mt.size).includes(e)}},activeButton:{type:Object,default:()=>Q.default.activeButton},inactiveButton:{type:Object,default:()=>Q.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>Q.default.firstButton},lastButton:{type:Object,default:()=>Q.default.lastButton},prevButton:{type:Object,default:()=>Q.default.prevButton},nextButton:{type:Object,default:()=>Q.default.nextButton},divider:{type:String,default:"…"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:d}){const{ui:$,attrs:y}=se("pagination",D(e,"ui"),Q,D(e,"class")),o=I({get(){return e.modelValue},set(i){d("update:modelValue",i)}}),h=I(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(i,k)=>k+1)),p=I(()=>{const i=h.value.length,k=o.value,_=Math.max(e.max,5),P=Math.floor((Math.min(_,i)-5)/2),H=k-P,j=k+P,V=H-1>1,T=j+1<i,b=[];if(i<=_){for(let A=1;A<=i;A++)b.push(A);return b}if(b.push(1),V&&b.push(e.divider),!T){const A=k+P+2-i;for(let S=k-P-A;S<=k-P-1;S++)b.push(S)}for(let A=Math.max(2,H);A<=Math.min(i,j);A++)b.push(A);if(!V){const A=1-(k-P-2);for(let S=k+P+1;S<=k+P+A;S++)b.push(S)}return T&&b.push(e.divider),j<i&&b.push(i),b.length>=3&&b[1]===e.divider&&b[2]===3&&(b[1]=2),b.length>=3&&b[b.length-2]===e.divider&&b[b.length-1]===b.length&&(b[b.length-2]=b.length-1),b}),n=I(()=>o.value>1),l=I(()=>o.value<h.value.length);function z(){n.value&&(o.value=1)}function U(){l.value&&(o.value=h.value.length)}function O(i){typeof i!="string"&&(o.value=i)}function u(){n.value&&o.value--}function v(){l.value&&o.value++}return{ui:$,attrs:y,currentPage:o,pages:h,displayedPages:p,canGoLastOrNext:l,canGoFirstOrPrev:n,onClickPrev:u,onClickNext:v,onClickPage:O,onClickFirst:z,onClickLast:U}}});function Nt(e,d,$,y,o,h){const p=oe;return c(),g("div",L({class:e.ui.wrapper},e.attrs),[G(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):M("",!0)]),G(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):M("",!0)]),(c(!0),g(F,null,J(e.displayedPages,(n,l)=>(c(),N(p,L({key:`${n}-${l}`,size:e.size,disabled:e.disabled,label:`${n}`,ref_for:!0},n===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof n=="string","z-[1]":n===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(n)}),null,16,["size","disabled","label","class","onClick"]))),128)),G(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):M("",!0)]),G(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(c(),N(p,L({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):M("",!0)])],16)}const Vt=ce(Ht,[["render",Nt]]),Tt={class:"flex flex-row gap-2"},qt={class:"text-base flex flex-row"},Rt=m("span",{class:"pr-2"},"Show: ",-1),Gt=["value"],Kt={class:"pl-4"},Qt={class:"pl-8 grow"},Jt={key:0,class:"rounded-lg border"},Wt={class:"max-h-36 overflow-auto"},Xt=["data-filter-key","data-filter-value"],Yt={class:"w-full overflow-x-auto"},Zt=["calss"],ea=["ui"],ta=["innerHTML"],aa=["innerHTML"],na=["calss"],sa=["id","calss"],oa=["innerHTML","id"],ra={class:"flex flex-row justify-between"},la={class:"text-xs"},ga=X({__name:"sh-dynamic-table",props:vt({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:Y.default.perPage},transformRawData:{default:()=>null},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let d,$;const{$filterDDFObjects:y,$filterCommonObjects:o,$filterOmaEnablers:h}=gt(),p=Y.perPage,n=e,{ui:l,attrs:z}=se("sh-dynamic-table",D(n,"ui"),Y,D(n,"class")),U=async()=>{try{_.value=[],k.value=[],ee();let t=await $fetch(n.dataUrl);return n.transformRawData&&(n.transformRawData==="filterDDFObjects"?t=y(t):n.transformRawData==="filterCommonObjects"?t=o(t):n.transformRawData==="filterOmaEnablers"&&(t=h(t))),ee(),n.dataField?O(t[n.dataField]):O(t)}catch(t){return console.log(t),[]}},O=t=>{var a;for(let s=0;s<t.length;s++)(a=n.columns)==null||a.forEach(r=>{if(r.name&&r.formatColumValue&&r.formatColumValue==="DY"&&t[s][r.name])try{let w=new Date(t[s][r.name]);w=w.getFullYear().toString(),t[s][r.name]=w}catch(w){console.log(w)}});return t},u=async()=>{k.value=await U(),ee(),xe(),i()},v=D(""),i=()=>{let t=Me(k.value);if(t=He(t),t=Ne(t),b.value=Ge(t),V.value=(t==null?void 0:t.length)>0?t.length:0,j.value===-1){for(let a=0;a<V.value;a++)_.value.push(t[a]);v.value=`Showing ${V.value} items`}else{let a=P.value*j.value-j.value,s=a+j.value>V.value?V.value:a+j.value;v.value="",_.value=[],ee();for(let r=a;r<s;r++)_.value.push(t[r]);v.value=`Showing ${s>0?a+1:0} to ${s} out of ${V.value} items`}ee()},k=D([]),_=D([]),P=ze(e,"page"),H=ze(e,"q"),j=D(n.perPage),V=D(0),T=D([]),b=D([]),A=D([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),S=D({}),pe=D([]),xe=()=>{if(pe.value=[],n.columns){let t=n.columns.reduce((a,s)=>(s&&s.filter&&a.push(s),a),[]);t=t.sort((a,s)=>!a.filterOrder&&!s.filterOrder?0:s.filterOrder?a.filterOrder-s.filterOrder:-1),pe.value=t}},Me=t=>{const a=n.columns.filter(s=>s.query).map(s=>s.name);return H.value.length>0?t.filter(s=>{var w;let r=!1;for(name of a)if(name==="Undefined"){if(H.value===""){r=!0;break}}else if((w=s[name])!=null&&w.toString().toLowerCase().includes(H.value.toLowerCase())){r=!0;break}return r}):t},He=t=>T.value.length>0?T.value.reduce((a,s)=>(a.length>0?a=a.filter(r=>r[s.name]&&s.value?r[s.name].toString()===s.value.toString():!1):a=t.filter(r=>r[s.name]&&s.value?r[s.name].toString()===s.value.toString():!1),a),[]):t,Ne=t=>Object.keys(S).length>0&&t&&typeof t.sort=="function"?t.sort((a,s)=>Xe(a[S.value.name],s[S.value.name],S.value.direction)):t,Ve=(t,a)=>T.value.filter(r=>r.name===t&&r.value===a).length>0,we=t=>t!=null&&t.title?t.title:"",Te=(t,a)=>{let s="";if(a.type==="url"){const r=t[a==null?void 0:a.name]?t[a.name]:"";s=`<a href="${t[a==null?void 0:a.typeData]?t[a.typeData[0]]:""}" target="_blank">${r}</a>`}else if(a.type==="subs")s=t[a==null?void 0:a.typeData]?t[a.typeData]:"";else{const r=t[a.name];s=(r==null?void 0:r.length)>0?r.toString():""}return s},qe=t=>{var a;return((a=S.value)==null?void 0:a.name)===t.name?S.value.direction==="asc"?Y.default.sortAscIcon:Y.default.sortDescIcon:Y.default.sortButton.icon},Re=()=>{const t=n.columns.reduce((a,s)=>s.filter?a+1:a,0);return t<2?"grid grid-cols-1 gap-4 min-h-48":t<3?"grid grid-cols-2 gap-2 min-h-48":t<4?"grid grid-cols-3 gap-1 min-h-48":t<5?"grid grid-cols-4 gap-1 min-h-48":"grid grid-cols-5 gap-1 min-h-48"},Ge=t=>{const a={};return n.columns.forEach(s=>{s.filter&&(a[s.name]={})}),t&&typeof t.forEach=="function"&&t.forEach(s=>{n.columns.forEach(r=>{if(Object.keys(s).includes(r.name)&&Object.keys(a).includes(r.name)){const w=s[r.name]?s[r.name]:"Undefined";a[r.name][w]=a[r.name][w]?a[r.name][w]+1:1}})}),a},Ce=t=>{let a="";return typeof t=="string"&&(t.includes(",")||t.includes('"')||t.includes("#")||t.includes(`
`))?(a=t.replace(/"/g,'"'),a=a.replace(/,/g," "),a=a.replace(/\n/g," ")):t?a=t.length>0?t.toString():" ":a="NULL",`${a}`},Ke=()=>{let t="";const a=n.columns.map(w=>`${Ce(w.title)}`);t+=a.join(",")+`
`,_.value.forEach((w,$e)=>{const ve=n.columns.map(ge=>`${Ce(w[ge.name])}`);t+=ve.join(",")+`
`});const s="data:text/csv;charset=utf-8i,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",s),r.setAttribute("download","table_data.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Qe=t=>{i()},Je=t=>{P.value=1,H.value=H.value.trim(),i()},We=t=>{const a=t.currentTarget.getAttribute("data-filter-key"),s=t.currentTarget.getAttribute("data-filter-value"),r=T.value.filter(w=>w.name===a&&w.value===s);r.length>0?T.value=T.value.filter(w=>w!=r[0]):T.value.push({name:a,value:s}),P.value=1,H.value="",i()},Xe=(t,a,s)=>(t==null&&(t=""),a==null&&(a=""),t===a?0:s==="asc"?t<a?-1:1:t>a?-1:1),Ye=t=>{S.value.name===t.name?S.value.direction=S.value.direction==="asc"?"desc":"asc":S.value={name:t.name,direction:"asc"},i()},Ze=t=>{try{j.value=Number(t.target.value),i()}catch(a){console.error(a)}};return ye(()=>{u()}),Ee(k,(t,a)=>{i(),ee()},{immediate:!0}),[d,$]=bt(()=>u()),await d,$(),(t,a)=>{const s=at,r=ht,w=mt,$e=Pt,ve=At,ge=xt,et=oe,tt=Vt;return c(),g("div",L({class:[f(l).wrapper,"w-full p-4"]},f(z)),[n.header?(c(),g("div",{key:0,class:B(f(l).header)},[n.header?(c(),N(s,{key:0,value:n.header},null,8,["value"])):M("",!0)],2)):M("",!0),m("div",{class:B(f(l).base)},[m("div",{class:B(f(l).search)},[m("div",Tt,[m("div",qt,[Rt,m("select",{class:"",onChange:Ze},[(c(!0),g(F,null,J(f(p),C=>(c(),g("option",{key:C,value:C,class:B({selected:f(j)===C})},W(C),11,Gt))),128)),m("option",{value:"-1",key:"-1",class:B({selected:f(j)===-1})},"All",2)],32)]),m("div",Kt,[m("button",{onClick:Ke,class:"hover:scale-125",title:"Download CSV file"},[x(r,{name:"i-carbon-download"})])]),m("div",Qt,[x(w,{modelValue:H.value,"onUpdate:modelValue":a[0]||(a[0]=C=>H.value=C),type:"text",onKeyup:Je,placeholder:"type a token to search for"},null,8,["modelValue"])])])],2),m("div",{class:B(f(l).filter)},[x(ge,{items:f(A),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":R(()=>[m("div",{class:B(Re())},[(c(!0),g(F,null,J(f(pe),C=>(c(),g(F,null,[C.filter?(c(),g("div",Jt,[x($e,{label:C.title,class:"py-4"},null,8,["label"]),m("ul",Wt,[(c(!0),g(F,null,J(Object.keys(f(b)[C.name]).sort(),q=>(c(),g("li",{"data-filter-key":C.name,"data-filter-value":q,onClick:We,class:B(["list-none flex justify-between p-2 hover:cursor-pointer",[Ve(C.name,q)?f(l).tr.selected:"",f(l).tr.active]])},[m("span",null,W(q),1),x(ve,null,{default:R(()=>[de(W(f(b)[C.name][q]),1)]),_:2},1024)],10,Xt))),256))])])):M("",!0)],64))),256))],2)]),_:1},8,["items"])],2),m("div",Yt,[m("table",{class:B([f(l).table,"min-w-full"])},[m("thead",{calss:f(l).thead},[m("tr",{ui:f(l)},[(c(!0),g(F,null,J(n.columns,C=>(c(),g(F,null,[C.hide!==!0?(c(),g("th",{key:0,class:B([f(l).th.base,f(l).th.padding,f(l).th.color,f(l).th.font,f(l).th.size])},[C.sortable?(c(),N(et,L({key:0,ref_for:!0},{...f(Y).default.sortButton},{icon:qe(C),onClick:q=>Ye(C)}),{default:R(()=>[m("span",{innerHTML:we(C),class:"not-prose"},null,8,ta)]),_:2},1040,["icon","onClick"])):(c(),g("span",{key:1,innerHTML:we(C),class:"not-prose"},null,8,aa))],2)):M("",!0)],64))),256))],8,ea)],8,Zt),m("tbody",{calss:f(l).tbody},[(c(!0),g(F,null,J(f(_),(C,q)=>(c(),g("tr",{key:`${q}-${Date.now()}`,id:`${q}-${Date.now()}`,calss:f(l).tr.base},[(c(!0),g(F,null,J(n.columns,(re,ia)=>(c(),g(F,{key:`${re.name}-${q}-${Date.now()}`},[re.hide?M("",!0):(c(),g("td",{key:0,innerHTML:Te(C,re),id:`${re.name}-${q}-${Date.now()}`,class:B([[f(l).td.base,f(l).td.padding,f(l).td.color,f(l).td.font,f(l).td.size],"not-prose"])},null,10,oa))],64))),128))],8,sa))),128))],8,na)],2)]),m("div",{class:B(f(l).pagination)},[m("div",ra,[m("div",la,W(f(v)),1),x(tt,{modelValue:P.value,"onUpdate:modelValue":a[1]||(a[1]=C=>P.value=C),"page-count":f(j),total:f(V),max:10,onClick:Qe,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])])],2)],2),n.footer?(c(),g("div",{key:1,class:B(f(l).footer)},[x(s,{value:n.footer},null,8,["value"])],2)):M("",!0)],16)}}});export{ga as default};
