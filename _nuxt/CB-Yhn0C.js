import{h as F,ax as _,ay as O,az as S,aA as U,K as V,f as A,D as R,k as d,o,c as i,a,t as m,l as L,F as K,r as Q,C as B,J as G,_ as J,i as P,j as W,n as T,b as X}from"./D4yxDw1k.js";function Y(u,r,h){const[t={},f]=[{},r],c=F(()=>_(u)),e=t.key||O([f,typeof c.value=="string"?c.value:"",...Z(t)]);if(!e||typeof e!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+e);if(!u)throw new Error("[nuxt] [useFetch] request is missing.");const p=e===f?"$f"+e:e;if(!t.baseURL&&typeof c.value=="string"&&c.value[0]==="/"&&c.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:s,lazy:w,default:x,transform:n,pick:N,watch:g,immediate:$,getCachedData:I,deep:C,dedupe:z,...D}=t,b=S({...U,...D,cache:typeof t.cache=="boolean"?void 0:t.cache}),M={server:s,lazy:w,default:x,transform:n,pick:N,immediate:$,getCachedData:I,deep:C,dedupe:z,watch:g===!1?[]:[b,c,...g||[]]};let l;return V(p,()=>{var v;(v=l==null?void 0:l.abort)==null||v.call(l),l=typeof AbortController<"u"?new AbortController:{};const k=_(t.timeout);let y;return k&&(y=setTimeout(()=>l.abort(),k),l.signal.onabort=()=>clearTimeout(y)),(t.$fetch||globalThis.$fetch)(c.value,{signal:l.signal,...b}).finally(()=>{clearTimeout(y)})},M)}function Z(u){var h;const r=[((h=_(u.method))==null?void 0:h.toUpperCase())||"GET",_(u.baseURL)];for(const t of[u.params||u.query]){const f=_(t);if(!f)continue;const c={};for(const[e,p]of Object.entries(f))c[_(e)]=_(p);r.push(c)}return r}const ee={wrapper:"flex p-4 justify-center",facebook:"bg-white dark:bg-white rounded-xl border",linkedin:"",twitter:"bg-white dark:bg-white",default:{}},te={class:"tweet-header"},se={class:"tweet-header-image"},ae=["src"],ne={class:"tweet-header-name"},oe={class:"tweet-header-name-top"},ie={key:0,viewBox:"0 0 22 22","aria-label":"Verified account",role:"img",class:"tweet-header-name-top-badge"},re={class:"tweet-header-name-bottom"},ce={class:"tweet-body"},de={key:0,class:"tweet-body-text"},le={key:0},ue=["href"],he=["href"],pe=["href"],fe=["src"],_e=A({__name:"NuxtTweet",props:{id:{type:String,required:!0},showMedia:{type:Boolean,required:!1,default:()=>!0}},async setup(u){let r,h;const t=u;function f(p){const s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'"};return p.replace(/&(amp|lt|gt|quot|#039);/g,w=>s[w])}function c(){var p;window.open(`https://twitter.com/${(p=e.value)==null?void 0:p.tweet.user.screen_name}/status/${t.id}`,"_blank")}const{data:e}=([r,h]=R(()=>Y(`/api/tweets/${t.id}`,"$PFHQbQIy1n")),r=await r,h(),r);return(p,s)=>{var w,x;return(x=(w=d(e))==null?void 0:w.tweet)!=null&&x.text?(o(),i("div",{key:0,onClick:c,target:"_blank",class:"tweet"},[a("div",te,[a("div",se,[a("img",{src:d(e).tweet.user.profile_image_url_https},null,8,ae)]),a("div",ne,[a("p",oe,[a("span",null,m(d(e).tweet.user.name),1),d(e).tweet.user.is_blue_verified?(o(),i("svg",ie,s[3]||(s[3]=[a("g",null,[a("path",{d:"M20.396 11c-.018-.646-.215-1.275-.57-1.816-.354-.54-.852-.972-1.438-1.246.223-.607.27-1.264.14-1.897-.131-.634-.437-1.218-.882-1.687-.47-.445-1.053-.75-1.687-.882-.633-.13-1.29-.083-1.897.14-.273-.587-.704-1.086-1.245-1.44S11.647 1.62 11 1.604c-.646.017-1.273.213-1.813.568s-.969.854-1.24 1.44c-.608-.223-1.267-.272-1.902-.14-.635.13-1.22.436-1.69.882-.445.47-.749 1.055-.878 1.688-.13.633-.08 1.29.144 1.896-.587.274-1.087.705-1.443 1.245-.356.54-.555 1.17-.574 1.817.02.647.218 1.276.574 1.817.356.54.856.972 1.443 1.245-.224.606-.274 1.263-.144 1.896.13.634.433 1.218.877 1.688.47.443 1.054.747 1.687.878.633.132 1.29.084 1.897-.136.274.586.705 1.084 1.246 1.439.54.354 1.17.551 1.816.569.647-.016 1.276-.213 1.817-.567s.972-.854 1.245-1.44c.604.239 1.266.296 1.903.164.636-.132 1.22-.447 1.68-.907.46-.46.776-1.044.908-1.681s.075-1.299-.165-1.903c.586-.274 1.084-.705 1.439-1.246.354-.54.551-1.17.569-1.816zM9.662 14.85l-3.429-3.428 1.293-1.302 2.072 2.072 4.4-4.794 1.347 1.246z"})],-1)]))):L("",!0)]),a("p",re," @"+m(d(e).tweet.user.screen_name),1)]),s[4]||(s[4]=a("div",{class:"tweet-header-logo"},[a("svg",{viewBox:"0 0 24 24","aria-hidden":"true",class:"tweet-header-logo-x"},[a("g",null,[a("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})])])],-1))]),a("div",ce,[d(e).sections?(o(),i("p",de,[(o(!0),i(K,null,Q(d(e).sections,(n,N)=>{var g,$,I,C,z,D,b,M,l,q,k,y,E,v,H,j;return o(),i("span",{key:N+"section"},[n.entityIndice?(g=n.entityIndice)!=null&&g.urls?(o(),i("a",{key:1,onClick:s[0]||(s[0]=B(()=>{},["stop"])),href:n.entityIndice.urls.expanded_url},m(n.entityIndice.urls.display_url),9,ue)):($=n.entityIndice)!=null&&$.hashtags?(o(),i("a",{key:2,onClick:s[1]||(s[1]=B(()=>{},["stop"])),href:`https://twitter.com/hashtag/${n.entityIndice.hashtags.text}`,target:"_blank"}," #"+m(n.entityIndice.hashtags.text),9,he)):(I=n.entityIndice)!=null&&I.userMentions?(o(),i("a",{key:3,onClick:s[2]||(s[2]=B(()=>{},["stop"])),href:`https://twitter.com/${n.entityIndice.userMentions.screen_name}`,target:"_blank"}," @"+m(n.entityIndice.userMentions.screen_name),9,pe)):t.showMedia&&((C=n.entityIndice)!=null&&C.media)?(o(),i("img",{key:4,loading:"lazy",class:"tweet-body-image",src:n.entityIndice.media.expanded_url,style:G({width:`${Number((M=(b=(D=(z=d(e).tweet.mediaDetails)==null?void 0:z[0])==null?void 0:D.sizes)==null?void 0:b.large)==null?void 0:M.w)}px`,"aspect-ratio":Number((y=(k=(q=(l=d(e).tweet.mediaDetails)==null?void 0:l[0])==null?void 0:q.sizes)==null?void 0:k.large)==null?void 0:y.w)/Number((j=(H=(v=(E=d(e).tweet.mediaDetails)==null?void 0:E[0])==null?void 0:v.sizes)==null?void 0:H.large)==null?void 0:j.h)})},null,12,fe)):L("",!0):(o(),i("span",le,m(f(n.text)),1))])}),128))])):L("",!0)])])):L("",!0)}}}),we=J(_e,[["__scopeId","data-v-bf46795b"]]),ye={key:0},me=["src","width"],ge={key:1},be=["src","width"],ke={key:2},ve={key:3},$e=A({__name:"sh-social",props:{description:{default:""},src:{default:""},width:{default:"500"},height:{default:""},ui:{default:()=>({})}},setup(u){const r=u,{ui:h}=P("sh-social",W(r,"ui"),ee),t=F(()=>/facebook/i.test(r.src)),f=F(()=>/linkedin/i.test(r.src)),c=F(()=>/^\d+$/.test(r.src));return(e,p)=>{const s=we;return o(),i("div",{class:T(d(h).wrapper)},[t.value?(o(),i("div",ye,[a("iframe",{class:T(d(h).facebook),src:e.src,width:e.width,height:410,style:{overflow:"hidden"},scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"},null,10,me)])):f.value?(o(),i("div",ge,[a("iframe",{class:T(d(h).linkedin),src:e.src,width:e.width,height:650,frameborder:"0",allowfullscreen:"true",title:"Embedded post"},null,10,be)])):c.value?(o(),i("div",ke,[X(s,{class:T(d(h).twitter),id:e.src,showMedia:!0},null,8,["class","id"])])):(o(),i("div",ve,"No supported social media found."))],2)}}});export{$e as default};
