import{_ as tt}from"./CGOOjR83.js";import{u as at,_ as nt}from"./99zYdx4v.js";import{B as ae,C as L,_ as fe,g as Q,A as pe,j as re,k as z,i as I,E as je,G as ue,o as v,c as C,a as P,n as $,F as U,H as R,t as te,I as N,J as E,m as H,X as rt,d as de,S as ge,R as ve,x as K,y as be,Y as ze,Z as ot,$ as st,V as Pe,a0 as Ie,D as oe,a1 as Ae,a2 as lt,a3 as ye,r as J,w as _,b as T,a4 as Oe,a5 as it,a6 as ut,a7 as dt,a8 as ct,a9 as ft,aa as Be,ab as Z,q as pt,l as h}from"./aEI-GyOC.js";import{_ as Ee}from"./C5PsvSGe.js";import"./COL5JFCC.js";import"./C-v3KzvZ.js";import"./BneCoJRQ.js";const gt={base:"inline-flex items-center",rounded:"rounded-md",font:"font-medium",size:{xs:"text-xs px-1.5 py-0.5",sm:"text-xs px-2 py-1",md:"text-sm px-2 py-1",lg:"text-sm px-2.5 py-1.5"},color:{white:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-900 dark:text-white bg-white dark:bg-gray-900"},gray:{solid:"ring-1 ring-inset ring-gray-300 dark:ring-gray-700 text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-800"},black:{solid:"text-white dark:text-gray-900 bg-gray-900 dark:bg-white"}},variant:{solid:"bg-{color}-500 dark:bg-{color}-400 text-white dark:text-gray-900",outline:"text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400",soft:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400",subtle:"bg-{color}-50 dark:bg-{color}-400 dark:bg-opacity-10 text-{color}-500 dark:text-{color}-400 ring-1 ring-inset ring-{color}-500 dark:ring-{color}-400 ring-opacity-25 dark:ring-opacity-25"},default:{size:"sm",variant:"solid",color:"primary"}},vt={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft"}},bt={wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs"}},yt={wrapper:"flex items-center -space-x-px",base:"",rounded:"first:rounded-s-md last:rounded-e-md",default:{size:"sm",activeButton:{color:"primary"},inactiveButton:{color:"white"},firstButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-double-left-20-solid"},lastButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-double-right-20-solid"},prevButton:{color:"white",class:"rtl:[&_span:first-child]:rotate-180",icon:"i-heroicons-chevron-left-20-solid"},nextButton:{color:"white",class:"rtl:[&_span:last-child]:rotate-180",icon:"i-heroicons-chevron-right-20-solid"}}},Y={wrapper:"bg-gray-50 dark:bg-inherit border-2 border-neutral-200 dark:border-neutral-500 rounded-2xl p-5",header:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",footer:"font-semibold text-center bg-slate-200 dark:bg-slate-700 dark:text-slate-200",search:"pb-4",filter:"",table:"min-w-full divide-y divide-gray-300 dark:divide-gray-700",tbody:"divide-y divide-gray-300 dark:divide-gray-700",tr:{base:"",selected:"bg-gray-300 dark:bg-gray-500",active:"hover:bg-gray-200 dark:hover:bg-gray-300 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap text-pretty ",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},pagination:"",perPage:[10,25,50,100],default:{perPage:10,sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"}}},ie=ae(L.ui.strategy,L.ui.divider,bt),ht=Q({components:{UIcon:pe,UAvatar:Ee},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>ie.default.size,validator(e){return Object.keys(ie.border.size.horizontal).includes(e)||Object.keys(ie.border.size.vertical).includes(e)}},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:i}=re("divider",z(e,"ui"),ie),u=I(()=>je(ue(n.value.wrapper.base,n.value.wrapper[e.orientation]),e.class)),a=I(()=>ue(n.value.container.base,n.value.container[e.orientation])),b=I(()=>ue(n.value.border.base,n.value.border[e.orientation],n.value.border.size[e.orientation][e.size],n.value.border.type[e.type]));return{ui:n,attrs:i,wrapperClass:u,containerClass:a,borderClass:b}}});function mt(e,n,i,u,a,b){const o=pe,r=Ee;return v(),C("div",E({class:e.wrapperClass},e.attrs),[P("div",{class:$(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(v(),C(U,{key:0},[P("div",{class:$(e.containerClass)},[R(e.$slots,"default",{},()=>[e.label?(v(),C("span",{key:0,class:$(e.ui.label)},te(e.label),3)):e.icon?(v(),N(o,{key:1,name:e.icon,class:$(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(v(),N(r,E({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):H("",!0)])],2),P("div",{class:$(e.borderClass)},null,2)],64)):H("",!0)],16)}const kt=fe(ht,[["render",mt]]),x=ae(L.ui.strategy,L.ui.badge,gt),wt=Q({inheritAttrs:!1,props:{size:{type:String,default:()=>x.default.size,validator(e){return Object.keys(x.size).includes(e)}},color:{type:String,default:()=>x.default.color,validator(e){return[...L.ui.colors,...Object.keys(x.color)].includes(e)}},variant:{type:String,default:()=>x.default.variant,validator(e){return[...Object.keys(x.variant),...Object.values(x.color).flatMap(n=>Object.keys(n))].includes(e)}},label:{type:[String,Number],default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:n,attrs:i}=re("badge",z(e,"ui"),x),{size:u,rounded:a}=rt({ui:n,props:e}),b=I(()=>{var r,m;const o=((m=(r=n.value.color)==null?void 0:r[e.color])==null?void 0:m[e.variant])||n.value.variant[e.variant];return je(ue(n.value.base,n.value.font,a.value,n.value.size[u.value],o==null?void 0:o.replaceAll("{color}",e.color)),e.class)});return{attrs:i,badgeClass:b}}});function Ct(e,n,i,u,a,b){return v(),C("span",E({class:e.badgeClass},e.attrs),[R(e.$slots,"default",{},()=>[de(te(e.label),1)])],16)}const $t=fe(wt,[["render",Ct]]);let Le=Symbol("headlessui.useid"),Ot=0;function De(){return ve(Le,()=>`${++Ot}`)()}function Bt(e){ge(Le,e)}function q(e){var n;if(e==null||e.value==null)return null;let i=(n=e.value.$el)!=null?n:e.value;return i instanceof Node?i:null}function ce(e,n,...i){if(e in n){let a=n[e];return typeof a=="function"?a(...i):a}let u=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,ce),u}function Se(e,n){if(e)return e;let i=n??"button";if(typeof i=="string"&&i.toLowerCase()==="button")return"button"}function Dt(e,n){let i=K(Se(e.value.type,e.value.as));return be(()=>{i.value=Se(e.value.type,e.value.as)}),ze(()=>{var u;i.value||q(n)&&q(n)instanceof HTMLButtonElement&&!((u=q(n))!=null&&u.hasAttribute("type"))&&(i.value="button")}),i}var ke=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ke||{}),St=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(St||{});function we({visible:e=!0,features:n=0,ourProps:i,theirProps:u,...a}){var b;let o=He(u,i),r=Object.assign(a,{props:o});if(e||n&2&&o.static)return he(r);if(n&1){let m=(b=o.unmount)==null||b?0:1;return ce(m,{0(){return null},1(){return he({...a,props:{...o,hidden:!0,style:{display:"none"}}})}})}return he(r)}function he({props:e,attrs:n,slots:i,slot:u,name:a}){var b,o;let{as:r,...m}=jt(e,["unmount","static"]),w=(b=i.default)==null?void 0:b.call(i,u),S={};if(u){let k=!1,l=[];for(let[g,d]of Object.entries(u))typeof d=="boolean"&&(k=!0),d===!0&&l.push(g);k&&(S["data-headlessui-state"]=l.join(" "))}if(r==="template"){if(w=Ue(w??[]),Object.keys(m).length>0||Object.keys(n).length>0){let[k,...l]=w??[];if(!zt(k)||l.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(m).concat(Object.keys(n)).map(p=>p.trim()).filter((p,B,j)=>j.indexOf(p)===B).sort((p,B)=>p.localeCompare(B)).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let g=He((o=k.props)!=null?o:{},m,S),d=ot(k,g,!0);for(let p in g)p.startsWith("on")&&(d.props||(d.props={}),d.props[p]=g[p]);return d}return Array.isArray(w)&&w.length===1?w[0]:w}return st(r,Object.assign({},m,S),{default:()=>w})}function Ue(e){return e.flatMap(n=>n.type===U?Ue(n.children):[n])}function He(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},i={};for(let u of e)for(let a in u)a.startsWith("on")&&typeof u[a]=="function"?(i[a]!=null||(i[a]=[]),i[a].push(u[a])):n[a]=u[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(i).map(u=>[u,void 0])));for(let u in i)Object.assign(n,{[u](a,...b){let o=i[u];for(let r of o){if(a instanceof Event&&a.defaultPrevented)return;r(a,...b)}}});return n}function jt(e,n=[]){let i=Object.assign({},e);for(let u of n)u in i&&delete i[u];return i}function zt(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let Me=Symbol("Context");var ne=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ne||{});function Pt(){return ve(Me,null)}function It(e){ge(Me,e)}var ee=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ee||{}),At=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(At||{});let Te=Symbol("DisclosureContext");function Ce(e){let n=ve(Te,null);if(n===null){let i=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Ce),i}return n}let Ne=Symbol("DisclosurePanelContext");function Et(){return ve(Ne,null)}let Lt=Q({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:n,attrs:i}){let u=K(e.defaultOpen?0:1),a=K(null),b=K(null),o={buttonId:K(`headlessui-disclosure-button-${De()}`),panelId:K(`headlessui-disclosure-panel-${De()}`),disclosureState:u,panel:a,button:b,toggleDisclosure(){u.value=ce(u.value,{0:1,1:0})},closeDisclosure(){u.value!==1&&(u.value=1)},close(r){o.closeDisclosure();let m=r?r instanceof HTMLElement?r:r.value instanceof HTMLElement?q(r):q(o.button):q(o.button);m==null||m.focus()}};return ge(Te,o),It(I(()=>ce(u.value,{0:ne.Open,1:ne.Closed}))),()=>{let{defaultOpen:r,...m}=e,w={open:u.value===0,close:o.close};return we({theirProps:m,ourProps:{},slot:w,slots:n,attrs:i,name:"Disclosure"})}}}),Ut=Q({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:n,slots:i,expose:u}){let a=Ce("DisclosureButton"),b=Et(),o=I(()=>b===null?!1:b.value===a.panelId.value);be(()=>{o.value||e.id!==null&&(a.buttonId.value=e.id)}),Pe(()=>{o.value||(a.buttonId.value=null)});let r=K(null);u({el:r,$el:r}),o.value||ze(()=>{a.button.value=r.value});let m=Dt(I(()=>({as:e.as,type:n.type})),r);function w(){var l;e.disabled||(o.value?(a.toggleDisclosure(),(l=q(a.button))==null||l.focus()):a.toggleDisclosure())}function S(l){var g;if(!e.disabled)if(o.value)switch(l.key){case ee.Space:case ee.Enter:l.preventDefault(),l.stopPropagation(),a.toggleDisclosure(),(g=q(a.button))==null||g.focus();break}else switch(l.key){case ee.Space:case ee.Enter:l.preventDefault(),l.stopPropagation(),a.toggleDisclosure();break}}function k(l){switch(l.key){case ee.Space:l.preventDefault();break}}return()=>{var l;let g={open:a.disclosureState.value===0},{id:d,...p}=e,B=o.value?{ref:r,type:m.value,onClick:w,onKeydown:S}:{id:(l=a.buttonId.value)!=null?l:d,ref:r,type:m.value,"aria-expanded":a.disclosureState.value===0,"aria-controls":a.disclosureState.value===0||q(a.panel)?a.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:w,onKeydown:S,onKeyup:k};return we({ourProps:B,theirProps:p,slot:g,attrs:n,slots:i,name:"DisclosureButton"})}}}),Ht=Q({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:n,slots:i,expose:u}){let a=Ce("DisclosurePanel");be(()=>{e.id!==null&&(a.panelId.value=e.id)}),Pe(()=>{a.panelId.value=null}),u({el:a.panel,$el:a.panel}),ge(Ne,a.panelId);let b=Pt(),o=I(()=>b!==null?(b.value&ne.Open)===ne.Open:a.disclosureState.value===0);return()=>{var r;let m={open:a.disclosureState.value===0,close:a.close},{id:w,...S}=e,k={id:(r=a.panelId.value)!=null?r:w,ref:a.panel};return we({ourProps:k,theirProps:S,slot:m,attrs:n,slots:i,features:ke.RenderStrategy|ke.Static,visible:o.value,name:"DisclosurePanel"})}}});const me=ae(L.ui.strategy,L.ui.accordion,vt),Mt=ae(L.ui.strategy,L.ui.button,Ie),Tt=Q({components:{HDisclosure:Lt,HDisclosureButton:Ut,HDisclosurePanel:Ht,UIcon:pe,UButton:oe},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>me.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>me.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open"],setup(e,{emit:n}){const{ui:i,attrs:u}=re("accordion",z(e,"ui"),me,z(e,"class")),a=I(()=>Mt),b=K([]),o=I(()=>b.value.map(({open:l})=>l));Ae(o,(l,g)=>{for(const d in l){const p=g[d],B=l[d];!p&&B&&n("open",d)}},{immediate:!0});function r(l,g){!e.items[l].closeOthers&&e.multiple||b.value.forEach(d=>{d.open&&d.close(g.target)})}function m(l,g){const d=l;d.style.height="0",d.offsetHeight,d.style.height=d.scrollHeight+"px",d.addEventListener("transitionend",g,{once:!0})}function w(l){const g=l;g.style.height=g.scrollHeight+"px",g.offsetHeight}function S(l){const g=l;g.style.height="auto"}function k(l,g){const d=l;d.style.height="0",d.addEventListener("transitionend",g,{once:!0})}return Bt(()=>at("$SZ7s8siktv")),{ui:i,uiButton:a,attrs:u,buttonRefs:b,closeOthers:r,omit:lt,onEnter:m,onBeforeLeave:w,onAfterEnter:S,onLeave:k}}}),Nt={key:1};function Ft(e,n,i,u,a,b){const o=pe,r=oe,m=ye("HDisclosureButton"),w=ye("HDisclosurePanel"),S=ye("HDisclosure");return v(),C("div",{class:$(e.ui.wrapper)},[(v(!0),C(U,null,J(e.items,(k,l)=>(v(),N(S,{key:l,as:"div",class:$(e.ui.container),"default-open":e.defaultOpen||k.defaultOpen},{default:_(({open:g,close:d})=>[T(m,{ref_for:!0,ref:()=>e.buttonRefs[l]={open:g,close:d},as:"template",disabled:k.disabled,onClick:p=>e.closeOthers(l,p),onKeydown:[Oe(p=>e.closeOthers(l,p),["enter"]),Oe(p=>e.closeOthers(l,p),["space"])]},{default:_(()=>[R(e.$slots,"default",{item:k,index:l,open:g,close:d},()=>[T(r,E({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(k,["slot","disabled","content","defaultOpen"])}),{trailing:_(()=>[T(o,{name:g&&e.closeIcon?e.closeIcon:e.openIcon,class:$([g&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[k.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),T(it,E({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:_(()=>[e.unmount?(v(),N(w,{key:0,class:$([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:_(()=>[R(e.$slots,k.slot||"item",{item:k,index:l,open:g,close:d},()=>[de(te(k.content),1)])]),_:2},1032,["class"])):ut((v(),C("div",Nt,[T(w,{class:$([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:_(()=>[R(e.$slots,k.slot||"item",{item:k,index:l,open:g,close:d},()=>[de(te(k.content),1)])]),_:2},1032,["class"])],512)),[[dt,g]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const Vt=fe(Tt,[["render",Ft]]),G=ae(L.ui.strategy,L.ui.pagination,yt),_t=ae(L.ui.strategy,L.ui.button,Ie),Rt=Q({components:{UButton:oe},inheritAttrs:!1,props:{modelValue:{type:Number,required:!0},pageCount:{type:Number,default:10},total:{type:Number,required:!0},max:{type:Number,default:7,validate(e){return e>=5&&e<Number.MAX_VALUE}},disabled:{type:Boolean,default:!1},size:{type:String,default:()=>G.default.size,validator(e){return Object.keys(_t.size).includes(e)}},activeButton:{type:Object,default:()=>G.default.activeButton},inactiveButton:{type:Object,default:()=>G.default.inactiveButton},showFirst:{type:Boolean,default:!1},showLast:{type:Boolean,default:!1},firstButton:{type:Object,default:()=>G.default.firstButton},lastButton:{type:Object,default:()=>G.default.lastButton},prevButton:{type:Object,default:()=>G.default.prevButton},nextButton:{type:Object,default:()=>G.default.nextButton},divider:{type:String,default:"…"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:n}){const{ui:i,attrs:u}=re("pagination",z(e,"ui"),G,z(e,"class")),a=I({get(){return e.modelValue},set(d){n("update:modelValue",d)}}),b=I(()=>Array.from({length:Math.ceil(e.total/e.pageCount)},(d,p)=>p+1)),o=I(()=>{const d=b.value.length,p=a.value,B=Math.max(e.max,5),j=Math.floor((Math.min(B,d)-5)/2),W=p-j,M=p+j,X=W-1>1,se=M+1<d,y=[];if(d<=B){for(let A=1;A<=d;A++)y.push(A);return y}if(y.push(1),X&&y.push(e.divider),!se){const A=p+j+2-d;for(let V=p-j-A;V<=p-j-1;V++)y.push(V)}for(let A=Math.max(2,W);A<=Math.min(d,M);A++)y.push(A);if(!X){const A=1-(p-j-2);for(let V=p+j+1;V<=p+j+A;V++)y.push(V)}return se&&y.push(e.divider),M<d&&y.push(d),y.length>=3&&y[1]===e.divider&&y[2]===3&&(y[1]=2),y.length>=3&&y[y.length-2]===e.divider&&y[y.length-1]===y.length&&(y[y.length-2]=y.length-1),y}),r=I(()=>a.value>1),m=I(()=>a.value<b.value.length);function w(){r.value&&(a.value=1)}function S(){m.value&&(a.value=b.value.length)}function k(d){typeof d!="string"&&(a.value=d)}function l(){r.value&&a.value--}function g(){m.value&&a.value++}return{ui:i,attrs:u,currentPage:a,pages:b,displayedPages:o,canGoLastOrNext:m,canGoFirstOrPrev:r,onClickPrev:l,onClickNext:g,onClickPage:k,onClickFirst:w,onClickLast:S}}});function qt(e,n,i,u,a,b){const o=oe;return v(),C("div",E({class:e.ui.wrapper},e.attrs),[R(e.$slots,"first",{onClick:e.onClickFirst},()=>[e.firstButton&&e.showFirst?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.firstButton||{},...e.firstButton},{ui:{rounded:""},"aria-label":"First",onClick:e.onClickFirst}),null,16,["size","disabled","class","onClick"])):H("",!0)]),R(e.$slots,"prev",{onClick:e.onClickPrev},()=>[e.prevButton?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoFirstOrPrev||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.prevButton||{},...e.prevButton},{ui:{rounded:""},"aria-label":"Prev",onClick:e.onClickPrev}),null,16,["size","disabled","class","onClick"])):H("",!0)]),(v(!0),C(U,null,J(e.displayedPages,(r,m)=>(v(),N(o,E({key:`${r}-${m}`,size:e.size,disabled:e.disabled,label:`${r}`,ref_for:!0},r===e.currentPage?{...e.ui.default.activeButton||{},...e.activeButton}:{...e.ui.default.inactiveButton||{},...e.inactiveButton},{class:[{"pointer-events-none":typeof r=="string","z-[1]":r===e.currentPage},e.ui.base,e.ui.rounded],ui:{rounded:""},onClick:()=>e.onClickPage(r)}),null,16,["size","disabled","label","class","onClick"]))),128)),R(e.$slots,"next",{onClick:e.onClickNext},()=>[e.nextButton?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.nextButton||{},...e.nextButton},{ui:{rounded:""},"aria-label":"Next",onClick:e.onClickNext}),null,16,["size","disabled","class","onClick"])):H("",!0)]),R(e.$slots,"last",{onClick:e.onClickLast},()=>[e.lastButton&&e.showLast?(v(),N(o,E({key:0,size:e.size,disabled:!e.canGoLastOrNext||e.disabled,class:[e.ui.base,e.ui.rounded]},{...e.ui.default.lastButton||{},...e.lastButton},{ui:{rounded:""},"aria-label":"Last",onClick:e.onClickLast}),null,16,["size","disabled","class","onClick"])):H("",!0)])],16)}const xt=fe(Rt,[["render",qt]]),Gt={key:0,class:"rounded-lg border"},Kt={class:"max-h-36 overflow-auto"},Qt=["data-filter-key","data-filter-value"],Wt=["calss"],Yt=["ui"],Jt=["innerHTML"],Xt=["innerHTML"],Zt=["calss"],ea=["id","calss"],ta=["innerHTML","id"],da=Q({__name:"sh-dynamic-table",props:ct({dataUrl:{default:""},dataField:{default:()=>{}},columns:{default:()=>[]},ui:{default:()=>({})},header:{default:""},footer:{default:""},perPage:{default:Y.default.perPage},transformRawData:{default:()=>null},class:{default:()=>{}}},{page:{type:Number,default:1},pageModifiers:{},q:{type:String,default:""},qModifiers:{}}),emits:["update:page","update:q"],async setup(e){let n,i;const{$filterDDFObjects:u,$filterCommonObjects:a,$filterOmaEnablers:b}=ft();Y.perPage;const o=e,{ui:r,attrs:m}=re("sh-dynamic-table",z(o,"ui"),Y,z(o,"class")),w=async()=>{try{d.value=[],g.value=[],Z();let t=await $fetch(o.dataUrl);return o.transformRawData&&(o.transformRawData==="filterDDFObjects"?t=u(t):o.transformRawData==="filterCommonObjects"?t=a(t):o.transformRawData==="filterOmaEnablers"&&(t=b(t))),Z(),o.dataField?S(t[o.dataField]):S(t)}catch(t){return console.log(t),[]}},S=t=>{var s;for(let c=0;c<t.length;c++)(s=o.columns)==null||s.forEach(f=>{if(f.name&&f.formatColumValue&&f.formatColumValue==="DY"&&t[c][f.name])try{let O=new Date(t[c][f.name]);O=O.getFullYear().toString(),t[c][f.name]=O}catch(O){console.log(O)}});return t},k=async()=>{g.value=await w(),Z(),l()},l=()=>{let t=A(g.value);t=V(t),t=Fe(t),X.value=xe(t),W.value=(t==null?void 0:t.length)>0?t.length:0;let s=p.value*j.value-j.value,c=s+j.value>W.value?W.value:s+j.value;d.value=[],Z();for(let f=s;f<c;f++)d.value.push(t[f]);Z()},g=z([]),d=z([]),p=Be(e,"page"),B=Be(e,"q"),j=z(o.perPage),W=z(0),M=z([]),X=z([]),se=z([{label:"Quick Filters",icon:"i-heroicons-eye-dropper",slot:"quick-filters",defaultOpen:!0}]),y=z({}),A=t=>{const s=o.columns.filter(c=>c.query).map(c=>c.name);return B.value.length>0?t.filter(c=>{var O;let f=!1;for(name of s)if(name==="Undefined"){if(B.value===""){f=!0;break}}else if((O=c[name])!=null&&O.toString().toLowerCase().includes(B.value.toLowerCase())){f=!0;break}return f}):t},V=t=>M.value.length>0?M.value.reduce((s,c)=>(s.length>0?s=s.filter(f=>f[c.name]&&c.value?f[c.name].toString()===c.value.toString():!1):s=t.filter(f=>f[c.name]&&c.value?f[c.name].toString()===c.value.toString():!1),s),[]):t,Fe=t=>Object.keys(y).length>0&&t&&typeof t.sort=="function"?t.sort((s,c)=>We(s[y.value.name],c[y.value.name],y.value.direction)):t,Ve=(t,s)=>M.value.filter(f=>f.name===t&&f.value===s).length>0,$e=t=>t!=null&&t.title?t.title:"",_e=(t,s)=>{let c="";if(s.type==="url"){const f=t[s==null?void 0:s.name]?t[s.name]:"";c=`<a href="${t[s==null?void 0:s.typeData]?t[s.typeData[0]]:""}" target="_blank">${f}</a>`}else if(s.type==="subs")c=t[s==null?void 0:s.typeData]?t[s.typeData]:"";else{const f=t[s.name];c=(f==null?void 0:f.length)>0?f.toString():""}return c},Re=t=>{var s;return((s=y.value)==null?void 0:s.name)===t.name?y.value.direction==="asc"?Y.default.sortAscIcon:Y.default.sortDescIcon:Y.default.sortButton.icon},qe=()=>{const t=o.columns.reduce((s,c)=>c.filter?s+1:s,0);return t<2?"grid grid-cols-1 gap-4 min-h-48":t<3?"grid grid-cols-2 gap-2 min-h-48":t<4?"grid grid-cols-3 gap-1 min-h-48":t<5?"grid grid-cols-4 gap-1 min-h-48":"grid grid-cols-5 gap-1 min-h-48"},xe=t=>{const s={};return o.columns.forEach(c=>{c.filter&&(s[c.name]={})}),t&&typeof t.forEach=="function"&&t.forEach(c=>{o.columns.forEach(f=>{if(Object.keys(c).includes(f.name)&&Object.keys(s).includes(f.name)){const O=c[f.name]?c[f.name]:"Undefined";s[f.name][O]=s[f.name][O]?s[f.name][O]+1:1}})}),s},Ge=t=>{l()},Ke=t=>{p.value=1,B.value=B.value.trim(),l()},Qe=t=>{const s=t.currentTarget.getAttribute("data-filter-key"),c=t.currentTarget.getAttribute("data-filter-value"),f=M.value.filter(O=>O.name===s&&O.value===c);f.length>0?M.value=M.value.filter(O=>O!=f[0]):M.value.push({name:s,value:c}),p.value=1,B.value="",l()},We=(t,s,c)=>(t==null&&(t=""),s==null&&(s=""),t===s?0:c==="asc"?t<s?-1:1:t>s?-1:1),Ye=t=>{y.value.name===t.name?y.value.direction=y.value.direction==="asc"?"desc":"asc":y.value={name:t.name,direction:"asc"},l()};return be(()=>{k()}),Ae(g,(t,s)=>{l(),Z()},{immediate:!0}),[n,i]=pt(()=>k()),await n,i(),(t,s)=>{const c=tt,f=nt,O=kt,Je=$t,Xe=Vt,Ze=oe,et=xt;return v(),C("div",E({class:[h(r).wrapper,o.class]},h(m)),[o.header?(v(),C("div",{key:0,class:$(h(r).header)},[o.header?(v(),N(c,{key:0,value:o.header},null,8,["value"])):H("",!0)],2)):H("",!0),P("div",{class:$(h(r).base)},[P("div",{class:$(h(r).search)},[T(f,{modelValue:B.value,"onUpdate:modelValue":s[0]||(s[0]=D=>B.value=D),type:"text",onKeyup:Ke,placeholder:"type a token to search for"},null,8,["modelValue"])],2),P("div",{class:$(h(r).filter)},[T(Xe,{items:h(se),color:"primary",variant:"solid",size:"sm",class:"not-prose"},{"quick-filters":_(()=>[P("div",{class:$(qe())},[(v(!0),C(U,null,J(o.columns,D=>(v(),C(U,null,[D.filter?(v(),C("div",Gt,[T(O,{label:D.title,class:"py-4"},null,8,["label"]),P("ul",Kt,[(v(!0),C(U,null,J(Object.keys(h(X)[D.name]),F=>(v(),C("li",{"data-filter-key":D.name,"data-filter-value":F,onClick:Qe,class:$(["list-none flex justify-between p-2 hover:cursor-pointer",[Ve(D.name,F)?h(r).tr.selected:"",h(r).tr.active]])},[P("span",null,te(F),1),T(Je,null,{default:_(()=>[de(te(h(X)[D.name][F]),1)]),_:2},1024)],10,Qt))),256))])])):H("",!0)],64))),256))],2)]),_:1},8,["items"])],2),P("table",{class:$(h(r).table)},[P("thead",{calss:h(r).thead},[P("tr",{ui:h(r)},[(v(!0),C(U,null,J(o.columns,D=>(v(),C(U,null,[D.hide!==!0?(v(),C("th",{key:0,class:$([h(r).th.base,h(r).th.padding,h(r).th.color,h(r).th.font,h(r).th.size])},[D.sortable?(v(),N(Ze,E({key:0,ref_for:!0},{...h(Y).default.sortButton},{icon:Re(D),onClick:F=>Ye(D)}),{default:_(()=>[P("span",{innerHTML:$e(D),class:"not-prose"},null,8,Jt)]),_:2},1040,["icon","onClick"])):(v(),C("span",{key:1,innerHTML:$e(D),class:"not-prose"},null,8,Xt))],2)):H("",!0)],64))),256))],8,Yt)],8,Wt),P("tbody",{calss:h(r).tbody},[(v(!0),C(U,null,J(h(d),(D,F)=>(v(),C("tr",{key:`${F}-${Date.now()}`,id:`${F}-${Date.now()}`,calss:h(r).tr.base},[(v(!0),C(U,null,J(o.columns,(le,aa)=>(v(),C(U,{key:`${le.name}-${F}-${Date.now()}`},[le.hide?H("",!0):(v(),C("td",{key:0,innerHTML:_e(D,le),id:`${le.name}-${F}-${Date.now()}`,class:$([[h(r).td.base,h(r).td.padding,h(r).td.color,h(r).td.font,h(r).td.size],"not-prose"])},null,10,ta))],64))),128))],8,ea))),128))],8,Zt)],2),P("div",{class:$(h(r).pagination)},[T(et,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=D=>p.value=D),"page-count":h(j),total:h(W),max:10,onClick:Ge,"show-last":"","show-first":""},null,8,["modelValue","page-count","total"])],2)],2),o.footer?(v(),C("div",{key:1,class:$(h(r).footer)},[T(c,{value:o.footer},null,8,["value"])],2)):H("",!0)],16)}}});export{da as default};
